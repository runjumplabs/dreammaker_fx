---
layout: default
title: Docs
---

<div class="container">
	<div class="row">
		<!-- sidebar, which will move to the top on a small screen -->
		<div class="col-sm-3">
			<nav id="toc" data-toggle="toc" class="sticky-top"></nav>
		</div>
		<!-- main content area -->
		<div class="col-sm-9">
			<article class="markdown-body">
				<h1 id="summary">Summary</h1>
<p>Members                        | Descriptions<br />
--------------------------------|---------------------------------------------
<code>class</code><a href="#classfx__amplitude__mod"><code>fx_amplitude_mod</code></a> | Effect: Amplitude modulator for creating tremelo-like effects.
<code>class</code><a href="#classfx__audio__node"><code>fx_audio_node</code></a> | Class for effects audio node.
<code>class</code><a href="#classfx__biquad__filter"><code>fx_biquad_filter</code></a> | Effect: Biquad filter for implementing various types of filters (low pass, high pass, band pass, etc.)
<code>class</code><a href="#classfx__clipper"><code>fx_clipper</code></a> | Effect: Clipper - provides various types of hard and soft clippers for creating different types of distortions.
<code>class</code><a href="#classfx__compressor"><code>fx_compressor</code></a> | Effect: Compressor/Limiter.
<code>class</code><a href="#classfx__delay"><code>fx_delay</code></a> | Effect: Delay/echo.
<code>class</code><a href="#classfx__envelope__tracker"><code>fx_envelope_tracker</code></a> | Effect: Envelope tracker.
<code>class</code><a href="#classfx__gain"><code>fx_gain</code></a> | Effect: Gain - used to increase or decrease the volume of an audio signal.
<code>class</code><a href="#classfx__instr__synth"><code>fx_instr_synth</code></a> | Effect: Instrument synth - your basic guitar/bass synth.
<code>class</code><a href="#classfx__looper"><code>fx_looper</code></a> | Effect: Looper - capture and playback loops.
<code>class</code><a href="#classfx__mixer__2"><code>fx_mixer_2</code></a> | Utility: 2 channel mixer.
<code>class</code><a href="#classfx__mixer__3"><code>fx_mixer_3</code></a> | Utility: 3 channel mixer.
<code>class</code><a href="#classfx__mixer__4"><code>fx_mixer_4</code></a> | Utility: 4 channel mixer.
<code>class</code><a href="#classfx__oscillator"><code>fx_oscillator</code></a> | Utility: Oscillator that can has both audio and control outputs.
<code>class</code><a href="#classfx__phase__shifter"><code>fx_phase_shifter</code></a> | Effect: Phase shifter for creating rich phase shifts.
<code>class</code><a href="#classfx__pitch__shift"><code>fx_pitch_shift</code></a> | Effect: Pitch shifter - shifts audio up or down in pitch.
<code>class</code><a href="#classfx__ring__mod"><code>fx_ring_mod</code></a> | Effect: Ring modulator - frequency modulates the audio - crazy sounding.
<code>class</code><a href="#classfx__shaper"><code>fx_shaper</code></a> | Effect: Slicer - chops up audio in the time domain and pipes to different effects.
<code>class</code><a href="#classfx__slicer"><code>fx_slicer</code></a> | Effect: Slicer - chops up audio in the time domain and pipes to different effects.
<code>class</code><a href="#classfx__variable__delay"><code>fx_variable_delay</code></a> | Effect: Variable delay - foundational block of flangers and choruses.
<code>struct</code><a href="#structDSP__STATUS"><code>DSP_STATUS</code></a> | </p>
<h1 id="classfx_amplitude_mod">class <code>fx_amplitude_mod</code></h1>
<p>Effect: Amplitude modulator for creating tremelo-like effects.</p>
<p>An amplitude modulator will change the volume or "amplitude" of the audio to create various types of tremelo effects. Here's a video demonstrating how amplitude modulators work:</p>
<p><a href="https://www.youtube.com/watch?v=AxZVMyIFqcA">https://www.youtube.com/watch?v=AxZVMyIFqcA</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/AxZVMyIFqcA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>=""></iframe>
<p>Example: </p>
<pre><code>#include "dm_fx.h"

fx_amplitude_mod  tremelo1(0.5,    // Rate in Hz
                           0.7);  // Depth 


void setup() {

  // Init the effects system
  pedal.init();

  // Route audio
  pedal.route_audio(pedal.instr_in, tremelo1.input);
  pedal.route_audio(tremelo1.output, pedal.amp_out);

  // Run it!
  pedal.run();

}

void loop() {

  // Connect Pot 0 to depth parameter
  if (pedal.pot_0.has_changed()) { 
    tremelo1.set_depth(pedal.pot_0.val);
  } 

  // Connect Pot 1 to rate (Hz) from 0.0 to 4.0Hz
  if (pedal.pot_1.has_changed()) { 
    tremelo1.set_rate(pedal.pot_0.val * 4.0);
  } 

  // Service 
  pedal.service();
}
</code></pre>
<h2 id="details">Details</h2>
<h4 id="audio_nodeinputclassfx__amplitude__mod_1a52c5dce1e56a9efbceb9f0aa572e35d4"><em>(audio_node)</em> <a href="#classfx__amplitude__mod_1a52c5dce1e56a9efbceb9f0aa572e35d4"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__amplitude__mod_1a3ffb0f78f55a24d56ad40ed71b9c3655"><em>(audio_node)</em> <a href="#classfx__amplitude__mod_1a3ffb0f78f55a24d56ad40ed71b9c3655"><code>output</code></a></h4>
<p>Audio routing node: primary audio output</p>
<h4 id="audio_nodeext_mod_inclassfx__amplitude__mod_1aeedd96b1c4e5e8e1cbf93fb4e134362b"><em>(audio_node)</em> <a href="#classfx__amplitude__mod_1aeedd96b1c4e5e8e1cbf93fb4e134362b"><code>ext_mod_in</code></a></h4>
<p>Audio routing node: external modulator audio input</p>
<h4 id="control_nodedepthclassfx__amplitude__mod_1a25ef00aa85c14e895710a505a9c6e0bd"><em>(control_node)</em> <a href="#classfx__amplitude__mod_1a25ef00aa85c14e895710a505a9c6e0bd"><code>depth</code></a></h4>
<p>Control routing node: amplifude modulator depth (should be between 0.0 and 1.0)</p>
<h4 id="control_noderate_hzclassfx__amplitude__mod_1ad85024759667cd9decc11e4fb24461ef"><em>(control_node)</em> <a href="#classfx__amplitude__mod_1ad85024759667cd9decc11e4fb24461ef"><code>rate_hz</code></a></h4>
<p>Control routing node: amplitide modulator rate (Hz) (i.e. 1.0 = once per second)</p>
<h4 id="initializerfx_amplitude_modclassfx__amplitude__mod_1acfe6780b005b6b34ba58e82b9b64cf50rate_hzdepth"><em>(initializer)</em> <a href="#classfx__amplitude__mod_1acfe6780b005b6b34ba58e82b9b64cf50"><code>fx_amplitude_mod</code></a><code>(rate_hz,depth)</code></h4>
<p>Basic constructor/initializer for amplitude modulator.</p>
<ul>
<li><p><code>modulation_rate</code> The amp modifier rate in Hertz (cycles / second) </p></li>
<li><p><code>modulation_depth</code> The amp modifier depth (0.0 is no modulation -&gt; 1.0 is full modulation)</p></li>
</ul>
<h4 id="initializerfx_amplitude_modclassfx__amplitude__mod_1a354b528d3a59d766b7fc3e1ed74427f9rate_hzdepthinitial_phase_degosc_typesmodulation_typebooluse_ext_modulator"><em>(initializer)</em> <a href="#classfx__amplitude__mod_1a354b528d3a59d766b7fc3e1ed74427f9"><code>fx_amplitude_mod</code></a><code>(rate_hz,depth,initial_phase_deg,OSC_TYPES modulation_type,bool use_ext_modulator)</code></h4>
<p>Advanced constructor for the amplitude modulator.</p>
<ul>
<li><p><code>rate_hz</code> The amp modifier rate in Hertz (cycles / second) </p></li>
<li><p><code>depth</code> The amp modifier depth (0.0 is no modulation -&gt; 1.0 is full modulation) </p></li>
<li><p><code>initial_phase_deg</code> The initial phase of the oscillator in degrees (0-360)</p></li>
<li><p><code>modulation_type</code> The amp modifier type - see the definition of OSC_TYPES to see the different waveform options </p></li>
<li><p><code>use_ext_modulator</code> Whether or not to use an externally generated waveform as the modulation source</p></li>
</ul>
<h4 id="modifierenableclassfx__amplitude__mod_1a4c21c0e9725c1dd515a2bf0b2fb8f99e"><em>(modifier)</em> <a href="#classfx__amplitude__mod_1a4c21c0e9725c1dd515a2bf0b2fb8f99e"><code>enable</code></a><code>()</code></h4>
<p>Enable the amplitude modululator (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__amplitude__mod_1a5d5ef5ff79e9c553a9ee5116c3dfa516"><em>(modifier)</em> <a href="#classfx__amplitude__mod_1a5d5ef5ff79e9c553a9ee5116c3dfa516"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the amplitude modululator (will just pass clean audio through)</p>
<h4 id="modifierset_depthclassfx__amplitude__mod_1ac0c2c2ab77761c961cd569d36e26ab17depth"><em>(modifier)</em> <a href="#classfx__amplitude__mod_1ac0c2c2ab77761c961cd569d36e26ab17"><code>set_depth</code></a><code>(depth)</code></h4>
<p>Sets the depth of the amplitude modululator.</p>
<ul>
<li><code>depth</code> The depth fom 0.0 -&gt; 1.0. 0.0 is no modulation at all, 1.0 is full modulation.</li>
</ul>
<h4 id="modifierset_rate_hzclassfx__amplitude__mod_1a90b19e7b942c13979bddeba8579813a4rate_hz"><em>(modifier)</em> <a href="#classfx__amplitude__mod_1a90b19e7b942c13979bddeba8579813a4"><code>set_rate_hz</code></a><code>(rate_hz)</code></h4>
<p>Sets the rate of the modulator in Hertz (cycles per second)</p>
<ul>
<li><code>rate_hz</code> The rate hz</li>
</ul>
<h4 id="modifierprint_paramsclassfx__amplitude__mod_1a62563870f85a17142b545e1e8b718fdfvoid"><em>(modifier)</em> <a href="#classfx__amplitude__mod_1a62563870f85a17142b545e1e8b718fdf"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_biquad_filter">class<code>fx_biquad_filter</code></h1>
<p>Effect: Biquad filter for implementing various types of filters (low pass, high pass, band pass, etc.)</p>
<p>The biquad filter can be used to create static filters such as equalizers and dynamic filters such as auto-wahs and other interesting swept filtering effects.</p>
<p>Here's a nice video about three different parameters of a biquad: f: cutoff/center frequency, q: filter width, and g: filter gain</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uTGU9jkkYwk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>=""></iframe>
<h2 id="details-1">Details</h2>
<h4 id="audio_nodeinputclassfx__biquad__filter_1a4a9f3a5ff4eac9f44e1378ee23e3211c"><em>(audio_node)</em> <a href="#classfx__biquad__filter_1a4a9f3a5ff4eac9f44e1378ee23e3211c"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__biquad__filter_1ac4fe4851b422f991882f0f47be3773ab"><em>(audio_node)</em> <a href="#classfx__biquad__filter_1ac4fe4851b422f991882f0f47be3773ab"><code>output</code></a></h4>
<p>Audio routing node: primary audio output</p>
<h4 id="control_nodefreqclassfx__biquad__filter_1a3f44ee6d1f9dbc892a22cecbc63eddd4"><em>(control_node)</em> <a href="#classfx__biquad__filter_1a3f44ee6d1f9dbc892a22cecbc63eddd4"><code>freq</code></a></h4>
<p>Control routing node: center/critical frequency of the filter in Hz (i.e. 800.0 for 800Hz)</p>
<h4 id="control_nodeqclassfx__biquad__filter_1a4a4821b7190483d41339969237612c04"><em>(control_node)</em> <a href="#classfx__biquad__filter_1a4a4821b7190483d41339969237612c04"><code>q</code></a></h4>
<p>Control routing node: width of the filter</p>
<h4 id="control_nodegainclassfx__biquad__filter_1a76aa6221915b88905f3b45f1cc0f7929"><em>(control_node)</em> <a href="#classfx__biquad__filter_1a76aa6221915b88905f3b45f1cc0f7929"><code>gain</code></a></h4>
<p>Control routing node: gain of the filter (used in shelving filters)</p>
<h4 id="initializerfx_biquad_filterclassfx__biquad__filter_1a1403541bb51773482c8b221dc82969e1filt_freqbiquad_filter_widthfilt_widthbiquad_filter_typefilt_type"><em>(initializer)</em> <a href="#classfx__biquad__filter_1a1403541bb51773482c8b221dc82969e1"><code>fx_biquad_filter</code></a><code>(filt_freq,BIQUAD_FILTER_WIDTH filt_width,BIQUAD_FILTER_TYPE filt_type)</code></h4>
<p>Basic constructor for biquad filter.</p>
<ul>
<li><p><code>filt_freq</code> The filter critical/cutoff frequency </p></li>
<li><p><code>filt_width</code> The filter width, see BIQUAD<em>FILTER</em>WIDTH for options </p></li>
<li><p><code>filt_type</code> The filter type, see BIQUAD<em>FILTER</em>TYPE for options</p></li>
</ul>
<h4 id="initializerfx_biquad_filterclassfx__biquad__filter_1ae9b661ee241ea12c78f37fd5cd30ea89filt_freqfilt_widthfilter_gainbiquad_filter_typefilt_typeeffect_transition_speedtrans_speed"><em>(initializer)</em> <a href="#classfx__biquad__filter_1ae9b661ee241ea12c78f37fd5cd30ea89"><code>fx_biquad_filter</code></a><code>(filt_freq,filt_width,filter_gain,BIQUAD_FILTER_TYPE filt_type,EFFECT_TRANSITION_SPEED trans_speed)</code></h4>
<p>Advanced constructor for biquad filter.</p>
<ul>
<li><p><code>filt_freq</code> The filter critical/cutoff frequency </p></li>
<li><p><code>filt_width</code> The filter Q factor </p></li>
<li><p><code>filter_gain</code> The filter gain in dB </p></li>
<li><p><code>filt_type</code> The filter type, see BIQUAD<em>FILTER</em>TYPE for options </p></li>
<li><p><code>trans_speed</code> The transaction speed when new filter parameters are suppliued, see EFFECT<em>TRANSITION</em>SPEED for options</p></li>
</ul>
<h4 id="modifierenableclassfx__biquad__filter_1aaf296f748135cba4ec2dcb8eb72ae229"><em>(modifier)</em> <a href="#classfx__biquad__filter_1aaf296f748135cba4ec2dcb8eb72ae229"><code>enable</code></a><code>()</code></h4>
<p>Enable the biquad filter (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__biquad__filter_1ae1df4e211ed2861d1dd1c11e88f7af7a"><em>(modifier)</em> <a href="#classfx__biquad__filter_1ae1df4e211ed2861d1dd1c11e88f7af7a"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the biquad filter (will just pass clean audio through)</p>
<h4 id="modifierset_freqclassfx__biquad__filter_1ad25d7d137c74ba15ff8aae13772f7691freq"><em>(modifier)</em> <a href="#classfx__biquad__filter_1ad25d7d137c74ba15ff8aae13772f7691"><code>set_freq</code></a><code>(freq)</code></h4>
<p>Sets a new cutoff/critical frequency (Hz).</p>
<ul>
<li><code>freq</code> The new center frequency for the filter in Hz (must be lower than 24000.0)</li>
</ul>
<h4 id="modifierset_qclassfx__biquad__filter_1aac3600fefd3941a6d829647bdbdbb860q"><em>(modifier)</em> <a href="#classfx__biquad__filter_1aac3600fefd3941a6d829647bdbdbb860"><code>set_q</code></a><code>(q)</code></h4>
<p>Sets a new Q factor for the filter. For more information on Q factor, read this: <a href="https://en.wikipedia.org/wiki/Q_factor">https://en.wikipedia.org/wiki/Q_factor</a>.</p>
<ul>
<li><code>q</code> The Q factor (must be between 0.01 and 100.0)</li>
</ul>
<h4 id="modifierset_gainclassfx__biquad__filter_1acb0375ac0044f5938c79868ac0cd4b1dgain"><em>(modifier)</em> <a href="#classfx__biquad__filter_1acb0375ac0044f5938c79868ac0cd4b1d"><code>set_gain</code></a><code>(gain)</code></h4>
<p>Sets the filter gain. This is only used in shelving filters.</p>
<ul>
<li><code>gain</code> The gain in dB</li>
</ul>
<h4 id="modifierprint_paramsclassfx__biquad__filter_1a50f5ec518d1656ebcc3bde26b2735a75void"><em>(modifier)</em> <a href="#classfx__biquad__filter_1a50f5ec518d1656ebcc3bde26b2735a75"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_clipper">class<code>fx_clipper</code></h1>
<p>Effect: Clipper - provides various types of hard and soft clippers for creating different types of distortions.</p>
<p>Here's a nice summary of clipping using polynomials to create various types of distortions topic: <a href="http://sites.music.columbia.edu/cmc/music-dsp/FAQs/guitar_distortion_FAQ.html">http://sites.music.columbia.edu/cmc/music-dsp/FAQs/guitar<em>distortion</em>FAQ.html</a></p>
<p>Example: </p>
<pre><code>#include "dm_fx.h"
/*
This is a basic soft-clipped distortion with a lower octave mixed in.  The
clipper is fed into a band-pass filter to give it some shape / tone.  In
parallel, the clean signal runs through the pitch shifter and is dropped an 
octave.  It then runs through a low-pass filter to remove everything except for the 
low fundamental.


              +--------------+  +----------------+  +-------+
              |              |  |                |  |       |
         +----&gt; Clipper      +--&gt; BPF @ 600Hz    +-&gt;+       |
         |    |              |  | (Tone control) |  |       |
         |    +--------------+  +----------------+  |       |
Instr In |                                          |Mixer 2+----&gt; Amp Out
         |                                          |       |
         |    +--------------+  +----------------+  |       |
         |    |              |  |                |  |       |
         +----&gt; Pitch shift  +-&gt;+ LPF (150Hz)    +-&gt;+       |
              | down 1 oct   |  |                |  |       |
              +--------------+  +----------------+  +-------+

*/

fx_clipper    tube_distort(0.1,     // Clipping threshold (0.0 -&gt; 1.0)
                           8.0,     // Input drive before clipping function
                           false,   // Disable rectify
                           POLY_SIMPLE_1);  // clipping polynomial

// Distortion output tone 
fx_biquad_filter distort_tone(600.0, 
                              FILTER_WIDTH_MEDIUM,
                              BIQUAD_TYPE_BPF);


// Adding an octave below
fx_pitch_shift  bass_shift(0.5);   // Octave drop pitch shift

fx_biquad_filter bass_filter(150.0,     
                             FILTER_WIDTH_MEDIUM,
                             BIQUAD_TYPE_LPF);



// Mixer
fx_mixer_2  mixy2;


void setup() {

  // put your setup code here, to run once:
  pedal.init();

  // for template, just pass audio from input to output jack
  pedal.route_audio(pedal.instr_in, tube_distort.input);
  pedal.route_audio(pedal.instr_in, bass_shift.input);

  // Add low end
  pedal.route_audio(bass_shift.output, bass_filter.input);
  pedal.route_audio(bass_filter.output, mixy2.input_1);

  // Distort
  pedal.route_audio(tube_distort.output, distort_tone.input);
  pedal.route_audio(distort_tone.output, mixy2.input_2);

  pedal.route_audio(mixy2.output, pedal.amp_out);

  // Optional code to print out the routing details to console
  if (true) {
    pedal.print_instance_stack();
    pedal.print_routing_table();
    pedal.print_param_tables();
  }

  // Run this effect
  pedal.run();

}

void loop() {

  // Add an event if pot 0 has changed
  if (pedal.pot_0.has_changed()) { 
  } 

  // Add an event if pot 0 has changed
  if (pedal.pot_1.has_changed()) { 
  } 

  // Add an event if pot 2 has changed (DOESN'T WORK ON FIRST GEN HARDWARE YET)
  if (pedal.pot_2.has_changed()) { 
  } 

  // Service 
  pedal.service();
}
</code></pre>
<h2 id="details-2">Details</h2>
<h4 id="audio_nodeinputclassfx__clipper_1a3e9f54141fd3cc133527d1e9a2fb246c"><em>(audio_node)</em> <a href="#classfx__clipper_1a3e9f54141fd3cc133527d1e9a2fb246c"><code>input</code></a></h4>
<p>Audio routing node [input]: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__clipper_1a08f9ef770f68969603238e7bdb05c250"><em>(audio_node)</em> <a href="#classfx__clipper_1a08f9ef770f68969603238e7bdb05c250"><code>output</code></a></h4>
<p>Audio routing node [output]: primary audio output</p>
<h4 id="control_nodethresholdclassfx__clipper_1a521b6ca951974410c75958280ad76f95"><em>(control_node)</em> <a href="#classfx__clipper_1a521b6ca951974410c75958280ad76f95"><code>threshold</code></a></h4>
<p>Control routing node [input]: clipping threshold (0.0 -&gt; 1.0)</p>
<h4 id="control_nodedriveclassfx__clipper_1ad0c2a47651109ee4a7d0519cdaa7bfd5"><em>(control_node)</em> <a href="#classfx__clipper_1ad0c2a47651109ee4a7d0519cdaa7bfd5"><code>drive</code></a></h4>
<p>Control routing node [input]: input drive multiplier before clipper (up to 64.0)</p>
<h4 id="initializerfx_clipperclassfx__clipper_1a23df83c1fa305c0bfc67770770647acdthresholddriveboolsignal_rectifypoly_clip_funcclip_type"><em>(initializer)</em> <a href="#classfx__clipper_1a23df83c1fa305c0bfc67770770647acd"><code>fx_clipper</code></a><code>(threshold,drive,bool signal_rectify,POLY_CLIP_FUNC clip_type)</code></h4>
<p>Basic constructor for the clipper.</p>
<ul>
<li><p><code>threshold</code> The clipping threshold of the distortion (typically between 0.1 and 0.5 where 1.0 is full scale audio) </p></li>
<li><p><code>drive</code> The input drive before the polynomial clipping section </p></li>
<li><p><code>signal_rectify</code> Boolean value (true or false) whether or not to rectify the output (to create a fuzz effect) </p></li>
<li><p><code>clip_type</code> Polynomial clipping function; See <code>POLY_CLIP_FUNC</code> in Special parameters and constants</p></li>
</ul>
<h4 id="initializerfx_clipperclassfx__clipper_1a6ec8c400cc0bad12964e92f1bb164b06thresholddriveboolsignal_rectifypoly_clip_funcclip_typeboolupsample"><em>(initializer)</em> <a href="#classfx__clipper_1a6ec8c400cc0bad12964e92f1bb164b06"><code>fx_clipper</code></a><code>(threshold,drive,bool signal_rectify,POLY_CLIP_FUNC clip_type,bool upsample)</code></h4>
<p>Advanced constructor for the clipper.</p>
<ul>
<li><p><code>threshold</code> The clipping threshold of the distortion (typically between 0.1 and 0.5 where 1.0 is full scale audio) </p></li>
<li><p><code>drive</code> The input drive before the polynomial clipping section </p></li>
<li><p><code>signal_rectify</code> Boolean value (true or false) whether or not to rectify the output (to create a fuzz effect) </p></li>
<li><p><code>clip_type</code> Polynomial clipping function; See <code>POLY_CLIP_FUNC</code> in Special parameters and constants </p></li>
<li><p><code>upsample</code> When set to true, the input signal is upsampled to 192kHz before clipping to reduce aliasing of harmonics. This increases the CPU load required but results in a slightly higher quality clipping function</p></li>
</ul>
<h4 id="modifierenableclassfx__clipper_1a21a7779b0cc969a75af734ed233ea7d3"><em>(modifier)</em> <a href="#classfx__clipper_1a21a7779b0cc969a75af734ed233ea7d3"><code>enable</code></a><code>()</code></h4>
<p>Enable the clipper (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__clipper_1afdc7fbb38ea931ffadc3c82168019be4"><em>(modifier)</em> <a href="#classfx__clipper_1afdc7fbb38ea931ffadc3c82168019be4"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the clipper (will just pass clean audio through)</p>
<h4 id="modifierset_thresholdclassfx__clipper_1adf8e7429ec4de106524b0b2bba91b09enew_threshold"><em>(modifier)</em> <a href="#classfx__clipper_1adf8e7429ec4de106524b0b2bba91b09e"><code>set_threshold</code></a><code>(new_threshold)</code></h4>
<p>Sets the clipping threshold.</p>
<ul>
<li><code>threshold</code> The threshold for clipping should be between 0.1 and 1.0. A value of 0.1 will provide aggressive clipping where as a value of 0.8 will provide more gentle clipping.</li>
</ul>
<h4 id="modifierset_input_driveclassfx__clipper_1a210e65dc3f00a0e210261b2357d82c59new_drive"><em>(modifier)</em> <a href="#classfx__clipper_1a210e65dc3f00a0e210261b2357d82c59"><code>set_input_drive</code></a><code>(new_drive)</code></h4>
<p>Sets the input drive before the clipper.</p>
<ul>
<li><code>drive</code> The drive a value that the incoming signal will get multiplied by before entering the clipper.</li>
</ul>
<h4 id="modifierprint_paramsclassfx__clipper_1a9816731e0ccb59ab00ab3cee369eb290void"><em>(modifier)</em> <a href="#classfx__clipper_1a9816731e0ccb59ab00ab3cee369eb290"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_compressor">class <code>fx_compressor</code></h1>
<p>Effect: Compressor/Limiter.</p>
<p>Here's a nice primer on how compressors work:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8nM5GsNNbyA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>=""></iframe>
<p>Example:</p>
<p>// Declare an instance of the compressor with initial values <a href="#classfx__compressor">fx_compressor</a> compy(-50.0, // Threshold to -50dB 100.0, // Ratio to 1:100 (like a limiter) 10.0, // Attack time in ms 100, // Release time in ms 3.0); // Output gain</p>
<p>â€¦ pedal.route<em>audio(pedal.instr</em>in, compy.input); pedal.route<em>audio(compy.output, pedal.amp</em>out); if (pedal.pot<em>0.has</em>changed()) { compy.set<em>threshold(pedal.pot</em>0.val*-40.0); }</p>
<p>if (pedal.pot<em>1.has</em>changed()) { compy.set<em>ratio(pedal.pot</em>1.val*100.0); }</p>
<p>if (pedal.pot<em>2.has</em>changed()) { compy.set<em>output</em>gain(pedal.pot_1.val*4.0); }</p>
<h2 id="details-3">Details</h2>
<h4 id="audio_nodeinputclassfx__compressor_1a2c22d60ca1e0c7e6f2c45f3e8e8dd437"><em>(audio_node)</em> <a href="#classfx__compressor_1a2c22d60ca1e0c7e6f2c45f3e8e8dd437"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__compressor_1a35ca7aaa8bbe1c70112fe9069d35b3d6"><em>(audio_node)</em> <a href="#classfx__compressor_1a35ca7aaa8bbe1c70112fe9069d35b3d6"><code>output</code></a></h4>
<p>Audio routing node: primary audio output</p>
<h4 id="control_nodethresholdclassfx__compressor_1a42928cf2614b69066cd1ed73d21d80f1"><em>(control_node)</em> <a href="#classfx__compressor_1a42928cf2614b69066cd1ed73d21d80f1"><code>threshold</code></a></h4>
<p>Control routing node [input]: Compressor/limiter threshold in dB (i.e. -30.0)</p>
<h4 id="control_noderatioclassfx__compressor_1a15fecdddd6b8410d5ae03779651c0fcf"><em>(control_node)</em> <a href="#classfx__compressor_1a15fecdddd6b8410d5ae03779651c0fcf"><code>ratio</code></a></h4>
<p>Control routing node [input]: Compressor/limiter compression ratio (a value of 100.0 would be a ratio of 1:100)</p>
<h4 id="control_nodeattackclassfx__compressor_1afb966172a248750454f3480bb9d488b7"><em>(control_node)</em> <a href="#classfx__compressor_1afb966172a248750454f3480bb9d488b7"><code>attack</code></a></h4>
<p>Control routing node [input]: Compressor/limiter attack rate in milliseconds</p>
<h4 id="control_nodereleaseclassfx__compressor_1a1197bdfd89e0d4bb9a184a56f40e834e"><em>(control_node)</em> <a href="#classfx__compressor_1a1197bdfd89e0d4bb9a184a56f40e834e"><code>release</code></a></h4>
<p>Control routing node [input]: Compressor/limiter release rate in milliseconds</p>
<h4 id="control_nodeout_gainclassfx__compressor_1ae7a36bbef9491c451d94d11ff973b1e4"><em>(control_node)</em> <a href="#classfx__compressor_1ae7a36bbef9491c451d94d11ff973b1e4"><code>out_gain</code></a></h4>
<p>Control routing node [input]: Compressor/limiter output gain (linear value so a value of 2.0 would double the signal amplitude)</p>
<h4 id="initializerfx_compressorclassfx__compressor_1a74243ee589778514f32e7b71c30e9ce4threshratioattackreleasegain_out"><em>(initializer)</em> <a href="#classfx__compressor_1a74243ee589778514f32e7b71c30e9ce4"><code>fx_compressor</code></a><code>(thresh,ratio,attack,release,gain_out)</code></h4>
<h4 id="modifierenableclassfx__compressor_1aeba0ed24a0ef7b44fe98a0e23137b638"><em>(modifier)</em> <a href="#classfx__compressor_1aeba0ed24a0ef7b44fe98a0e23137b638"><code>enable</code></a><code>()</code></h4>
<p>Enable the <strong>this_effect</strong> (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__compressor_1ada718d7f67f7ad3632e3ff938cd52fdc"><em>(modifier)</em> <a href="#classfx__compressor_1ada718d7f67f7ad3632e3ff938cd52fdc"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the <strong>this_effect</strong> (will just pass clean audio through)</p>
<h4 id="modifierset_thresholdclassfx__compressor_1a4f31a53de17275b2c2e28c285c38a363threshold"><em>(modifier)</em> <a href="#classfx__compressor_1a4f31a53de17275b2c2e28c285c38a363"><code>set_threshold</code></a><code>(threshold)</code></h4>
<h4 id="modifierset_ratioclassfx__compressor_1a3c369e147e311baeff7e519bfb9f1040ratio"><em>(modifier)</em> <a href="#classfx__compressor_1a3c369e147e311baeff7e519bfb9f1040"><code>set_ratio</code></a><code>(ratio)</code></h4>
<h4 id="modifierset_attackclassfx__compressor_1a88b69c8c2e6bd7d73ef18f883027102aattack"><em>(modifier)</em> <a href="#classfx__compressor_1a88b69c8c2e6bd7d73ef18f883027102a"><code>set_attack</code></a><code>(attack)</code></h4>
<h4 id="modifierset_releaseclassfx__compressor_1aa7c6b0dad11f29b33c307639e9d0781arelease"><em>(modifier)</em> <a href="#classfx__compressor_1aa7c6b0dad11f29b33c307639e9d0781a"><code>set_release</code></a><code>(release)</code></h4>
<h4 id="modifierset_output_gainclassfx__compressor_1a475a80b206024c87f6a38c4bf898d6f6gain_out"><em>(modifier)</em> <a href="#classfx__compressor_1a475a80b206024c87f6a38c4bf898d6f6"><code>set_output_gain</code></a><code>(gain_out)</code></h4>
<h4 id="modifierprint_paramsclassfx__compressor_1aae183cb59a7d0299438a65196d91b213void"><em>(modifier)</em> <a href="#classfx__compressor_1aae183cb59a7d0299438a65196d91b213"><code>print_params</code></a><code>(void)</code></h4>
<h1 id="classfx_delay">class<code>fx_delay</code></h1>
<p>Effect: Delay/echo.</p>
<p>This is basically an echo effect.</p>
<p>Here's a nice video explaining the different parameters of a typical delay pedal <iframe width="560" height="315" src="https://www.youtube.com/embed/9LWRgA597O4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>=""></iframe></p>
<h2 id="details-4">Details</h2>
<h4 id="audio_nodeinputclassfx__delay_1a07652b9b855e12f74705811f65670068"><em>(audio_node)</em> <a href="#classfx__delay_1a07652b9b855e12f74705811f65670068"><code>input</code></a></h4>
<p>Audio routing node [input]: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__delay_1aa247832fc523f7a1d82dcd94e0c46757"><em>(audio_node)</em> <a href="#classfx__delay_1aa247832fc523f7a1d82dcd94e0c46757"><code>output</code></a></h4>
<p>Audio routing node [output]: primary audio output</p>
<h4 id="audio_nodefx_sendclassfx__delay_1a47d0604757c9fae775e9dc1d0c8e0c43"><em>(audio_node)</em> <a href="#classfx__delay_1a47d0604757c9fae775e9dc1d0c8e0c43"><code>fx_send</code></a></h4>
<p>Audio routing node [output]: effect loop send before entering delay line of this effect</p>
<h4 id="audio_nodefx_receiveclassfx__delay_1a48f73cc2af7f37afde7a96e885961d4a"><em>(audio_node)</em> <a href="#classfx__delay_1a48f73cc2af7f37afde7a96e885961d4a"><code>fx_receive</code></a></h4>
<p>Audio routing node [output]: effect loop return before entering delay line of this effect</p>
<h4 id="control_nodelength_msclassfx__delay_1ab3ab27196c40eaae2fc8f874642eca50"><em>(control_node)</em> <a href="#classfx__delay_1ab3ab27196c40eaae2fc8f874642eca50"><code>length_ms</code></a></h4>
<p>Control routing node [input]: Length of delay line in milliseconds (1/1000s of a second)</p>
<h4 id="control_nodefeedbackclassfx__delay_1a632917c322f068445ab1772877b24661"><em>(control_node)</em> <a href="#classfx__delay_1a632917c322f068445ab1772877b24661"><code>feedback</code></a></h4>
<p>Control routing node [input]: Feedback ratio (between 0.0 and 1.0)</p>
<h4 id="control_nodefeedthroughclassfx__delay_1a1d1b170aadff6e8d387f8d3100227b7e"><em>(control_node)</em> <a href="#classfx__delay_1a1d1b170aadff6e8d387f8d3100227b7e"><code>feedthrough</code></a></h4>
<p>Control routing node [input]: Feedthrough ratio (between 0.0 and 1.0)</p>
<h4 id="initializerfx_delayclassfx__delay_1aac7eb3b50aeb93b9938456ca659e7cd4delay_len_msfeedback"><em>(initializer)</em> <a href="#classfx__delay_1aac7eb3b50aeb93b9938456ca659e7cd4"><code>fx_delay</code></a><code>(delay_len_ms,feedback)</code></h4>
<p>Basic constructor for delay effect.</p>
<ul>
<li><p><code>delay_len_ms</code> The length of the delay in milliseconds (1/1000s of a second) </p></li>
<li><p><code>feedback</code> The feedback ration (between 0.0 and 1.0)</p></li>
</ul>
<h4 id="initializerfx_delayclassfx__delay_1a7fe8a29ac3f6c99f3f975e31a93593a9delay_len_msdelay_len_max_msfeedbackfeedthroughboolenable_ext_fx"><em>(initializer)</em> <a href="#classfx__delay_1a7fe8a29ac3f6c99f3f975e31a93593a9"><code>fx_delay</code></a><code>(delay_len_ms,delay_len_max_ms,feedback,feedthrough,bool enable_ext_fx)</code></h4>
<p>Advanced constructor for delay effect.</p>
<ul>
<li><p><code>delay_len_ms</code> The length of the delay in milliseconds (1/1000s of a second) </p></li>
<li><p><code>delay_len_max_ms</code> The maximum length of the delay (if the delay length is modified) </p></li>
<li><p><code>feedback</code> The feedback ration (between 0.0 and 1.0) </p></li>
<li><p><code>feedthrough</code> The delay feed through ratio (between 0.0 and 1.0) </p></li>
<li><p><code>enable_ext_fx</code> Enable the send/receive FX loop</p></li>
</ul>
<h4 id="modifierenableclassfx__delay_1aa2b2f620ddfa1b85800aadc764a07f6f"><em>(modifier)</em> <a href="#classfx__delay_1aa2b2f620ddfa1b85800aadc764a07f6f"><code>enable</code></a><code>()</code></h4>
<p>Enable the <strong>this_effect</strong> (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__delay_1a01012a63d6c8ea4536f6b3dfbab32e73"><em>(modifier)</em> <a href="#classfx__delay_1a01012a63d6c8ea4536f6b3dfbab32e73"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the <strong>this_effect</strong> (will just pass clean audio through)</p>
<h4 id="modifierset_length_msclassfx__delay_1ad2712b329a719dad80041f63cd5c39e1len_ms"><em>(modifier)</em> <a href="#classfx__delay_1ad2712b329a719dad80041f63cd5c39e1"><code>set_length_ms</code></a><code>(len_ms)</code></h4>
<p>Update the length of the delay.</p>
<p>Note, if you used the simple constructor, the length of the delay needs to be less than or equal to the initial delay value. If you want the ability to set a longer delay than the initial value, use the advanced constructor as this will allow you to also specify the total amount of delay space to allocate which is then the maximum length of a delay.</p>
<h4 id="modifierset_feedbackclassfx__delay_1a27d2959ee0ad5ec9abfce93df89c865cfeedback"><em>(modifier)</em> <a href="#classfx__delay_1a27d2959ee0ad5ec9abfce93df89c865c"><code>set_feedback</code></a><code>(feedback)</code></h4>
<p>Updates the feedback parameter of the delay.</p>
<h4 id="modifierset_feedthroughclassfx__delay_1a317aa525e9900bc020eb7799b97578edfeedthrough"><em>(modifier)</em> <a href="#classfx__delay_1a317aa525e9900bc020eb7799b97578ed"><code>set_feedthrough</code></a><code>(feedthrough)</code></h4>
<p>Updates the feedthrough parameter of the delay.</p>
<h4 id="modifierenable_dampeningclassfx__delay_1ae12ccc1b582f0ef980b32cbe284572acvoid"><em>(modifier)</em> <a href="#classfx__delay_1ae12ccc1b582f0ef980b32cbe284572ac"><code>enable_dampening</code></a><code>(void)</code></h4>
<p>Enable a simple first order low pass filter in the feedback path.</p>
<h4 id="modifierdisable_dampeningclassfx__delay_1a5cc2342f7f2222434e681f3e4bf38503void"><em>(modifier)</em> <a href="#classfx__delay_1a5cc2342f7f2222434e681f3e4bf38503"><code>disable_dampening</code></a><code>(void)</code></h4>
<p>Disable a simple first order low pass filter in the feedback path.</p>
<h4 id="modifierset_dampening_coeffclassfx__delay_1a7e21d7c88b66bffe7dac3ad76255ae03coeff"><em>(modifier)</em> <a href="#classfx__delay_1a7e21d7c88b66bffe7dac3ad76255ae03"><code>set_dampening_coeff</code></a><code>(coeff)</code></h4>
<p>Sets the coefficient of the filter (0.0-1.0)</p>
<h4 id="modifierprint_paramsclassfx__delay_1a0982e31da3096ac3d850e71eca18f6fcvoid"><em>(modifier)</em> <a href="#classfx__delay_1a0982e31da3096ac3d850e71eca18f6fc"><code>print_params</code></a><code>(void)</code></h4>
<p>Prints the parameters for the delay effect.</p>
<h1 id="classfx_envelope_tracker">class<code>fx_envelope_tracker</code></h1>
<p>Effect: Envelope tracker.</p>
<p>Here's a nice tutorial on one effect that can be created with an envelope tracker</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/gFltSCZVqx0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>=""></iframe>
<h2 id="details-5">Details</h2>
<h4 id="audio_nodeinputclassfx__envelope__tracker_1a90a1db3263c82aa7b59e7292b777bd82"><em>(audio_node)</em> <a href="#classfx__envelope__tracker_1a90a1db3263c82aa7b59e7292b777bd82"><code>input</code></a></h4>
<h4 id="control_nodedecay_speed_msclassfx__envelope__tracker_1ae8aae7e2034e97ac804e26f7cfa9bfbe"><em>(control_node)</em> <a href="#classfx__envelope__tracker_1ae8aae7e2034e97ac804e26f7cfa9bfbe"><code>decay_speed_ms</code></a></h4>
<h4 id="control_nodeattack_speed_msclassfx__envelope__tracker_1aecc2a5c2cb85119e7120e7e1c1dfa3e5"><em>(control_node)</em> <a href="#classfx__envelope__tracker_1aecc2a5c2cb85119e7120e7e1c1dfa3e5"><code>attack_speed_ms</code></a></h4>
<h4 id="control_nodeenvelopeclassfx__envelope__tracker_1a067a4942058fd43727d9c3575bc44eb2"><em>(control_node)</em> <a href="#classfx__envelope__tracker_1a067a4942058fd43727d9c3575bc44eb2"><code>envelope</code></a></h4>
<h4 id="initializerfx_envelope_trackerclassfx__envelope__tracker_1ae5d434f970e66fb028d6955e4feb5904attack_speed_msdecay_speed_msbooltriggered"><em>(initializer)</em> <a href="#classfx__envelope__tracker_1ae5d434f970e66fb028d6955e4feb5904"><code>fx_envelope_tracker</code></a><code>(attack_speed_ms,decay_speed_ms,bool triggered)</code></h4>
<h4 id="modifierset_attack_speed_msclassfx__envelope__tracker_1adcb2549d59d71a39dff1b39854a3d045attack_speed_ms"><em>(modifier)</em> <a href="#classfx__envelope__tracker_1adcb2549d59d71a39dff1b39854a3d045"><code>set_attack_speed_ms</code></a><code>(attack_speed_ms)</code></h4>
<h4 id="modifierset_decay_speed_msclassfx__envelope__tracker_1a4d6f81bda9887bb96aaa14b974d5d19adecay_speed_ms"><em>(modifier)</em> <a href="#classfx__envelope__tracker_1a4d6f81bda9887bb96aaa14b974d5d19a"><code>set_decay_speed_ms</code></a><code>(decay_speed_ms)</code></h4>
<h4 id="modifierprint_paramsclassfx__envelope__tracker_1a7b51364941f46e57860cfbaae1d315dbvoid"><em>(modifier)</em> <a href="#classfx__envelope__tracker_1a7b51364941f46e57860cfbaae1d315db"><code>print_params</code></a><code>(void)</code></h4>
<h1 id="classfx_gain">class <code>fx_gain</code></h1>
<p>Effect: Gain - used to increase or decrease the volume of an audio signal.</p>
<h2 id="details-6">Details</h2>
<h4 id="audio_nodeinputclassfx__gain_1a292efdc7356082aaacf2a79bef496390"><em>(audio_node)</em> <a href="#classfx__gain_1a292efdc7356082aaacf2a79bef496390"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__gain_1adac79db68119e32509a27ee24d1d7c6e"><em>(audio_node)</em> <a href="#classfx__gain_1adac79db68119e32509a27ee24d1d7c6e"><code>output</code></a></h4>
<p>Audio routing node: primary audio output</p>
<h4 id="control_nodegainclassfx__gain_1a68685d3f20555db915e64c8a869fcfa7"><em>(control_node)</em> <a href="#classfx__gain_1a68685d3f20555db915e64c8a869fcfa7"><code>gain</code></a></h4>
<p>Control routing node: gain value input - you can then link the envelope filter to this to create slow swell effects</p>
<h4 id="initializerfx_gainclassfx__gain_1a2300b426bb620f6197ff600ff5745b00gain_val"><em>(initializer)</em> <a href="#classfx__gain_1a2300b426bb620f6197ff600ff5745b00"><code>fx_gain</code></a><code>(gain_val)</code></h4>
<p>Basic constructor/initializer for gain.</p>
<ul>
<li><code>gain_val</code> The gain value</li>
</ul>
<h4 id="initializerfx_gainclassfx__gain_1ad1818cd57161ec431908add185673057gain_valeffect_transition_speedgain_trans_speed"><em>(initializer)</em> <a href="#classfx__gain_1ad1818cd57161ec431908add185673057"><code>fx_gain</code></a><code>(gain_val,EFFECT_TRANSITION_SPEED gain_trans_speed)</code></h4>
<p>Advanced constructor for the gain.</p>
<ul>
<li><p><code>gain_val</code> The gain value (typically between 0.0-&gt;1.0 to make a signal quiter and &gt; 1.0 to make a signal louder) </p></li>
<li><p><code>gain_trans_speed</code> The gain transaction speed based on <code>EFFECT_TRANSITION_SPEED</code> defined above (i.e. slow -&gt; fast)</p></li>
</ul>
<h4 id="modifierenableclassfx__gain_1ac1432865de90f7dad9e5457c422058b7"><em>(modifier)</em> <a href="#classfx__gain_1ac1432865de90f7dad9e5457c422058b7"><code>enable</code></a><code>()</code></h4>
<p>Enable the <strong>this_effect</strong> (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__gain_1a871e0d71dddc9000a26aea56caf2daf6"><em>(modifier)</em> <a href="#classfx__gain_1a871e0d71dddc9000a26aea56caf2daf6"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the <strong>this_effect</strong> (will just pass clean audio through)</p>
<h4 id="modifierset_gainclassfx__gain_1a889982b1829aeea799e2df228363fe81new_gain"><em>(modifier)</em> <a href="#classfx__gain_1a889982b1829aeea799e2df228363fe81"><code>set_gain</code></a><code>(new_gain)</code></h4>
<p>Sets the gain multiplier. For example, a value of 2 will double the volume/amplitude and a value of 0.5 will halve the volume/amplitude.</p>
<ul>
<li><code>new_gain</code> The new gain value (0.0 -&gt; 4.0)</li>
</ul>
<h4 id="modifierset_gain_dbclassfx__gain_1acd185cb59c54347a8dff85df08c5e749new_gain_db"><em>(modifier)</em> <a href="#classfx__gain_1acd185cb59c54347a8dff85df08c5e749"><code>set_gain_db</code></a><code>(new_gain_db)</code></h4>
<p>Sets the gain multiplier using decibles. For example, a value of 0 will keep volume the same, a value of 6 will double the amplitude/volume, a value of -6 will halve the amplitude/volume.</p>
<ul>
<li><code>new_gain_db</code> The new gain value (dB)</li>
</ul>
<h4 id="modifierprint_paramsclassfx__gain_1a6f25cf909faf42ab9b543be6abe780cavoid"><em>(modifier)</em> <a href="#classfx__gain_1a6f25cf909faf42ab9b543be6abe780ca"><code>print_params</code></a><code>(void)</code></h4>
<p>Prints the parameters for the delay effect.</p>
<h1 id="classfx_instr_synth">class <code>fx_instr_synth</code></h1>
<p>Effect: Instrument synth - your basic guitar/bass synth.</p>
<p>This is a guitar / bass synth. At this point, still just one note at a time but polyphonic synth is coming soon!</p>
<h2 id="details-7">Details</h2>
<h4 id="audio_nodeinputclassfx__instr__synth_1a4a6082269fcec84a71835c6a5b4d64f1"><em>(audio_node)</em> <a href="#classfx__instr__synth_1a4a6082269fcec84a71835c6a5b4d64f1"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__instr__synth_1a06f7b00662245a996b9d5cc2989b7a65"><em>(audio_node)</em> <a href="#classfx__instr__synth_1a06f7b00662245a996b9d5cc2989b7a65"><code>output</code></a></h4>
<p>Audio routing node: primary audio output</p>
<h4 id="initializerfx_instr_synthclassfx__instr__synth_1a7e80ef574e4bff7ce641e97982346b63freq_mult_1freq_mult_2freq_mult_3synth_1_mixsynth_2_mixsynth_3_mixosc_typessynth_1_typeosc_typessynth_2_typeosc_typessynth_3_typeattack_secondsrelease_secondssynth_mixclean_mix"><em>(initializer)</em> <a href="#classfx__instr__synth_1a7e80ef574e4bff7ce641e97982346b63"><code>fx_instr_synth</code></a><code>(freq_mult_1,freq_mult_2,freq_mult_3,synth_1_mix,synth_2_mix,synth_3_mix,OSC_TYPES synth_1_type,OSC_TYPES synth_2_type,OSC_TYPES synth_3_type,attack_seconds,release_seconds,synth_mix,clean_mix)</code></h4>
<p>Basic constructor/initializer for the instrument synth.</p>
<ul>
<li><p><code>freq_mult_1</code> The frequency multiplier for first tone (1.0 is same, 0.5 is octave down, 2.0 is octave up, etc.) </p></li>
<li><p><code>freq_mult_2</code> The frequency multiplier for second tone </p></li>
<li><p><code>freq_mult_3</code> The frequency multiplier for third tone </p></li>
<li><p><code>synth_1_mix</code> The synth 1 mix </p></li>
<li><p><code>synth_2_mix</code> The synth 2 mix </p></li>
<li><p><code>synth_3_mix</code> The synth 3 mix </p></li>
<li><p><code>synth_1_type</code> The synth 1 type (see <code>OSC_TYPES</code>) </p></li>
<li><p><code>synth_2_type</code> The synth 2 type (see <code>OSC_TYPES</code>) </p></li>
<li><p><code>synth_3_type</code> The synth 3 type (see <code>OSC_TYPES</code>) </p></li>
<li><p><code>attack_seconds</code> The attack seconds </p></li>
<li><p><code>release_seconds</code> The release seconds </p></li>
<li><p><code>synth_mix</code> The synth mix </p></li>
<li><p><code>clean_mix</code> The clean mix</p></li>
</ul>
<h4 id="modifierenableclassfx__instr__synth_1afac99c2234df91a81a51110755406e42"><em>(modifier)</em> <a href="#classfx__instr__synth_1afac99c2234df91a81a51110755406e42"><code>enable</code></a><code>()</code></h4>
<p>Enable the <strong>this_effect</strong> (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__instr__synth_1a15f583952474c64791aeac6c3044d6c8"><em>(modifier)</em> <a href="#classfx__instr__synth_1a15f583952474c64791aeac6c3044d6c8"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the <strong>this_effect</strong> (will just pass clean audio through)</p>
<h1 id="classfx_looper">class <code>fx_looper</code></h1>
<p>Effect: Looper - capture and playback loops.</p>
<p>Here's a nice tutorial on how looper pedals work in general <iframe width="560" height="315" src="https://www.youtube.com/embed/Gd0NhglZWtw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>=""></iframe></p>
<p>Example: </p>
<pre><code> #include "dm_fx.h"

/*
This is a basic looper pedal that uses the route_control() function to pass the tapped
loop length along to an echo effect. The echo effect is set to 1/4 the lenght of the loop
so each time a new loop is set, the echo time is updated to.

                +--------+    +-----------+
                |        |    |           |
                |        |    |           |
Instr In +-----&gt;+ Looper +---&gt;+   Delay   +-----&gt; Amp Out
                |        |    |           |
                |        |    |           |
                +---+----+    +------+----+
                    |                ^
                    +----------------+
                        loop length

 */

fx_looper   loopy( 0.8,   // Dry mix
                   0.8,   // Looped audio mix
                   12,    // Max loop length in seconds
                   false); // Disable FX processing as audio enters the loop

fx_delay    echo(3000,    // Max lenght of 3 seconds
                 0.7 );   // Feedback of 0.7

void setup() {

  // put your setup code here, to run once:
  pedal.init();

  // for template, just pass audio from input to output jack
  pedal.route_audio(pedal.instr_in, loopy.input);
  pedal.route_audio(loopy.output, echo.input);
  pedal.route_audio(echo.output, pedal.amp_out);

  // Connect the tapped loop length of our looper to the delay size and divide by 1/4 and convert to milliseconds (so four echoes per loop)
  pedal.route_control(loopy.loop_length_seconds, 
                      echo.length_ms, 
                      250.0,        // Scale by 1000 * 1/4 (convert to ms and then divide by 4 so we get four echoes)
                      0);           // Offset = 0

  // Optional code to print out the routing details to console
  if (true) {
    pedal.print_instance_stack();
    pedal.print_routing_table();
    pedal.print_param_tables();
  }

  // Run this effect
  pedal.run();

  // Disable echo initially
  echo.bypass();

}

void loop() {


  // Service 
  pedal.service();
}

// Footswitch 1 - typically used for enable/bypass
void footswitch_1_pressed() { 

  // Declared as static so state is preserved between calls
  static bool bypassed = false;

  // Bypass code
  if (bypassed) {
    // If we are currently bypassed, switch pedal to active mode and turn on LED next to SW1
    pedal.enable_fx();
    digitalWrite(PIN_FOOTSW_LED_1, HIGH); // Turn on LED
  } else {
    // If we are currently active, switch pedal to bypassed mode and turn off LED next to SW1
    pedal.bypass_fx();
    digitalWrite(PIN_FOOTSW_LED_1, LOW);  // Turn off LED
  }
  bypassed = !bypassed; // Toggle bypassed state variable
}

// Footswitch 2 - used to trigger loop
void footswitch_2_pressed() {

  static bool looping = false;

  if (!looping) {
    loopy.start_loop_recording();
    Serial.println("\nLoop recording");
    digitalWrite(PIN_FOOTSW_LED_2, HIGH); // Turn on LED
  } else {
    loopy.stop_loop_recording();
    Serial.println("\nLoop recording complete");
    digitalWrite(PIN_FOOTSW_LED_2, LOW); // Turn off LED
    echo.enable();
  }

  looping = !looping;
}
</code></pre>
<h2 id="details-8">Details</h2>
<h4 id="audio_nodeinputclassfx__looper_1a8546e55ec37dbff4aa1f6c6f2dcf8b60"><em>(audio_node)</em> <a href="#classfx__looper_1a8546e55ec37dbff4aa1f6c6f2dcf8b60"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__looper_1a9fa368775267435ce6d15b566f8cc199"><em>(audio_node)</em> <a href="#classfx__looper_1a9fa368775267435ce6d15b566f8cc199"><code>output</code></a></h4>
<p>Audio routing node: primary audio output</p>
<h4 id="audio_nodepreproc_sendclassfx__looper_1aac75ac7e57037d128831bff2bcb68513"><em>(audio_node)</em> <a href="#classfx__looper_1aac75ac7e57037d128831bff2bcb68513"><code>preproc_send</code></a></h4>
<p>Audio routing node: pre-loop effects send (process audio before it ends up in the loop)</p>
<h4 id="audio_nodepreproc_receiveclassfx__looper_1aee08a93da19655a0e7c344d0249a49ea"><em>(audio_node)</em> <a href="#classfx__looper_1aee08a93da19655a0e7c344d0249a49ea"><code>preproc_receive</code></a></h4>
<p>Audio routing node: pre-loop effects receive (process audio before it ends up in the loop)</p>
<h4 id="control_nodestartclassfx__looper_1ab84b9fa507e67afe22da6a53bc0ff66f"><em>(control_node)</em> <a href="#classfx__looper_1ab84b9fa507e67afe22da6a53bc0ff66f"><code>start</code></a></h4>
<p>Control routing node: Trigger to start loop recording</p>
<h4 id="control_nodestopclassfx__looper_1a9bbdaecb62b28c955f479bd7c6e79bda"><em>(control_node)</em> <a href="#classfx__looper_1a9bbdaecb62b28c955f479bd7c6e79bda"><code>stop</code></a></h4>
<p>Control routing node: Trigger to stop loop recording</p>
<h4 id="control_nodeplayback_rateclassfx__looper_1a597a390c7ef64c1c71a79a0727f1a3ea"><em>(control_node)</em> <a href="#classfx__looper_1a597a390c7ef64c1c71a79a0727f1a3ea"><code>playback_rate</code></a></h4>
<p>Control routing node: Loop playback rate (1.0 is recorded rate, &gt; 1.0 is faster / higher pitch, &lt; 1.0 is slower, &lt;0 is reverse)</p>
<h4 id="control_nodedry_mixclassfx__looper_1ad7b7d16ac156eed0178d498870c35801"><em>(control_node)</em> <a href="#classfx__looper_1ad7b7d16ac156eed0178d498870c35801"><code>dry_mix</code></a></h4>
<p>Control routing node: clean/dry mix</p>
<h4 id="control_nodeloop_mixclassfx__looper_1ac2d6a671a7a74f01112a632fd5d871a6"><em>(control_node)</em> <a href="#classfx__looper_1ac2d6a671a7a74f01112a632fd5d871a6"><code>loop_mix</code></a></h4>
<p>Control routing node: clean/dry mix</p>
<h4 id="control_nodeloop_length_secondsclassfx__looper_1a445745ac04fa40f9a2aa1fd447a65897"><em>(control_node)</em> <a href="#classfx__looper_1a445745ac04fa40f9a2aa1fd447a65897"><code>loop_length_seconds</code></a></h4>
<p>Control routing node: [output] loop lenght - can be tied to things like delay length to create delay lines that are synced to the loop length</p>
<h4 id="initializerfx_looperclassfx__looper_1aa2e8fed242f70089c0da68f5867e7006looper_dry_mixlooper_loop_mixlooper_max_length_secondsboollooper_enable_loop_preprocessing"><em>(initializer)</em> <a href="#classfx__looper_1aa2e8fed242f70089c0da68f5867e7006"><code>fx_looper</code></a><code>(looper_dry_mix,looper_loop_mix,looper_max_length_seconds,bool looper_enable_loop_preprocessing)</code></h4>
<p>Constructor/initializer for amplitude modulator.</p>
<ul>
<li><p><code>looper_dry_mix</code> The looper dry mix </p></li>
<li><p><code>looper_loop_mix</code> The looper loop mix </p></li>
<li><p><code>looper_max_length_seconds</code> The looper maximum length seconds </p></li>
<li><p><code>looper_enable_loop_preprocessing</code> The looper enable loop preprocessing</p></li>
</ul>
<h4 id="modifierenableclassfx__looper_1a9c21dc8e4b7407b636c6b46f6072245b"><em>(modifier)</em> <a href="#classfx__looper_1a9c21dc8e4b7407b636c6b46f6072245b"><code>enable</code></a><code>()</code></h4>
<p>Enable the <strong>this_effect</strong> (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__looper_1a3d10b14e14d00b4fcad30b9a78fa0468"><em>(modifier)</em> <a href="#classfx__looper_1a3d10b14e14d00b4fcad30b9a78fa0468"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the <strong>this_effect</strong> (will just pass clean audio through)</p>
<h4 id="modifierstart_loop_recordingclassfx__looper_1ad554b506c7981908af1eafdf0238ef68"><em>(modifier)</em> <a href="#classfx__looper_1ad554b506c7981908af1eafdf0238ef68"><code>start_loop_recording</code></a><code>()</code></h4>
<h4 id="modifierstop_loop_recordingclassfx__looper_1a7ead4d6a0f9e8abf21525c2203e41234"><em>(modifier)</em> <a href="#classfx__looper_1a7ead4d6a0f9e8abf21525c2203e41234"><code>stop_loop_recording</code></a><code>()</code></h4>
<h4 id="modifierset_playback_rateclassfx__looper_1af02b19a5487fa9c049cc789ff239d1dfplayback_rate"><em>(modifier)</em> <a href="#classfx__looper_1af02b19a5487fa9c049cc789ff239d1df"><code>set_playback_rate</code></a><code>(playback_rate)</code></h4>
<h4 id="modifierprint_paramsclassfx__looper_1a7f16134ea6c25fcde6d1e2fab601cf37void"><em>(modifier)</em> <a href="#classfx__looper_1a7f16134ea6c25fcde6d1e2fab601cf37"><code>print_params</code></a><code>(void)</code></h4>
<p>Prints the parameters for the delay effect.</p>
<h1 id="classfx_mixer_2">class <code>fx_mixer_2</code></h1>
<p>Utility: 2 channel mixer.</p>
<h2 id="details-9">Details</h2>
<h4 id="audio_nodeinput_1classfx__mixer__2_1ac3dd5da659c05886d30025ba81254da8"><em>(audio_node)</em> <a href="#classfx__mixer__2_1ac3dd5da659c05886d30025ba81254da8"><code>input_1</code></a></h4>
<p>Audio routing node [input]: audio input (mixer channel 1)</p>
<h4 id="audio_nodeinput_2classfx__mixer__2_1a2d60c8289760967e746f43bf3aeddfec"><em>(audio_node)</em> <a href="#classfx__mixer__2_1a2d60c8289760967e746f43bf3aeddfec"><code>input_2</code></a></h4>
<p>Audio routing node [input]: audio input (mixer channel 2)</p>
<h4 id="audio_nodeoutputclassfx__mixer__2_1ac9594cf89c58c8c1e566f4b9efdf9a26"><em>(audio_node)</em> <a href="#classfx__mixer__2_1ac9594cf89c58c8c1e566f4b9efdf9a26"><code>output</code></a></h4>
<p>Audio routing node [output]: mixer output</p>
<h4 id="initializerfx_mixer_2classfx__mixer__2_1a7b0f04dd3f2a94ce14b6f1bb4e0c5a02void"><em>(initializer)</em> <a href="#classfx__mixer__2_1a7b0f04dd3f2a94ce14b6f1bb4e0c5a02"><code>fx_mixer_2</code></a><code>(void)</code></h4>
<p>Simple constructor takes no arguments.</p>
<h4 id="modifierprint_paramsclassfx__mixer__2_1a223e33aa4ccc94da38b9e43a7e171c1bvoid"><em>(modifier)</em> <a href="#classfx__mixer__2_1a223e33aa4ccc94da38b9e43a7e171c1b"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_mixer_3">class <code>fx_mixer_3</code></h1>
<p>Utility: 3 channel mixer.</p>
<h2 id="details-10">Details</h2>
<h4 id="audio_nodeinput_1classfx__mixer__3_1a517758169a6ef1e81720c9329503bb7a"><em>(audio_node)</em> <a href="#classfx__mixer__3_1a517758169a6ef1e81720c9329503bb7a"><code>input_1</code></a></h4>
<p>Audio routing node [input]: audio input (mixer channel 1)</p>
<h4 id="audio_nodeinput_2classfx__mixer__3_1a4c5d017dc79d7a30be6600f4a07e5cac"><em>(audio_node)</em> <a href="#classfx__mixer__3_1a4c5d017dc79d7a30be6600f4a07e5cac"><code>input_2</code></a></h4>
<p>Audio routing node [input]: audio input (mixer channel 2)</p>
<h4 id="audio_nodeinput_3classfx__mixer__3_1a189f7d11234f4f3954fdb95a1cafab0c"><em>(audio_node)</em> <a href="#classfx__mixer__3_1a189f7d11234f4f3954fdb95a1cafab0c"><code>input_3</code></a></h4>
<p>Audio routing node [input]: audio input (mixer channel 3)</p>
<h4 id="audio_nodeoutputclassfx__mixer__3_1aa2f1daf0e3add17a6fa64767842f6ce8"><em>(audio_node)</em> <a href="#classfx__mixer__3_1aa2f1daf0e3add17a6fa64767842f6ce8"><code>output</code></a></h4>
<p>Audio routing node [output]: mixer output</p>
<h4 id="initializerfx_mixer_3classfx__mixer__3_1ae66a67fdf041059f82b28bdd05235402void"><em>(initializer)</em> <a href="#classfx__mixer__3_1ae66a67fdf041059f82b28bdd05235402"><code>fx_mixer_3</code></a><code>(void)</code></h4>
<p>Simple constructor takes no arguments.</p>
<h4 id="modifierprint_paramsclassfx__mixer__3_1a0593fdf1d54570a4b719151823e080a5void"><em>(modifier)</em> <a href="#classfx__mixer__3_1a0593fdf1d54570a4b719151823e080a5"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_mixer_4">class <code>fx_mixer_4</code></h1>
<p>Utility: 4 channel mixer.</p>
<h2 id="details-11">Details</h2>
<h4 id="audio_nodeinput_1classfx__mixer__4_1a3736146eb3b471875b3af416c32a7acc"><em>(audio_node)</em> <a href="#classfx__mixer__4_1a3736146eb3b471875b3af416c32a7acc"><code>input_1</code></a></h4>
<p>Audio routing node [input]: audio input (mixer channel 1)</p>
<h4 id="audio_nodeinput_2classfx__mixer__4_1ab4b2f4f9850b67626970e9ee11397f07"><em>(audio_node)</em> <a href="#classfx__mixer__4_1ab4b2f4f9850b67626970e9ee11397f07"><code>input_2</code></a></h4>
<p>Audio routing node [input]: audio input (mixer channel 2)</p>
<h4 id="audio_nodeinput_3classfx__mixer__4_1ac87286a9ae9a4ba82fb1380c642cdb03"><em>(audio_node)</em> <a href="#classfx__mixer__4_1ac87286a9ae9a4ba82fb1380c642cdb03"><code>input_3</code></a></h4>
<p>Audio routing node [input]: audio input (mixer channel 3)</p>
<h4 id="audio_nodeinput_4classfx__mixer__4_1a4d9758b6bf556cf1895b7444ae4dd9e7"><em>(audio_node)</em> <a href="#classfx__mixer__4_1a4d9758b6bf556cf1895b7444ae4dd9e7"><code>input_4</code></a></h4>
<p>Audio routing node [input]: audio input (mixer channel 4)</p>
<h4 id="audio_nodeoutputclassfx__mixer__4_1ac3dc79fb05062a982e2335dbee8a9f99"><em>(audio_node)</em> <a href="#classfx__mixer__4_1ac3dc79fb05062a982e2335dbee8a9f99"><code>output</code></a></h4>
<p>Audio routing node [output]: mixer output</p>
<h4 id="initializerfx_mixer_4classfx__mixer__4_1aaa5d6dc5d83074dda5a1ce6f00d45c67void"><em>(initializer)</em> <a href="#classfx__mixer__4_1aaa5d6dc5d83074dda5a1ce6f00d45c67"><code>fx_mixer_4</code></a><code>(void)</code></h4>
<p>Simple constructor takes no arguments.</p>
<h4 id="modifierprint_paramsclassfx__mixer__4_1a3f5586bcf1bddd567c41c2fae7ecabdfvoid"><em>(modifier)</em> <a href="#classfx__mixer__4_1a3f5586bcf1bddd567c41c2fae7ecabdf"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_oscillator">class <code>fx_oscillator</code></h1>
<p>Utility: Oscillator that can has both audio and control outputs.</p>
<h2 id="details-12">Details</h2>
<h4 id="audio_nodeoutputclassfx__oscillator_1ad443f83c5e49e2a849e44fadef36bd9f"><em>(audio_node)</em> <a href="#classfx__oscillator_1ad443f83c5e49e2a849e44fadef36bd9f"><code>output</code></a></h4>
<p>Audio routing node: primary audio oscillator output</p>
<h4 id="control_nodefreqclassfx__oscillator_1aeeb44f7cd3b37d8426de735d765ad992"><em>(control_node)</em> <a href="#classfx__oscillator_1aeeb44f7cd3b37d8426de735d765ad992"><code>freq</code></a></h4>
<p>Control routing node: frequency of the oscillator in Hz</p>
<h4 id="control_nodeamplitudeclassfx__oscillator_1aee2c66fe29de2ec4f47bce0ed77b2445"><em>(control_node)</em> <a href="#classfx__oscillator_1aee2c66fe29de2ec4f47bce0ed77b2445"><code>amplitude</code></a></h4>
<p>Control routing node: amplitude of the oscillator (linear, typically between 0.0 and 1.0)</p>
<h4 id="control_nodeoffsetclassfx__oscillator_1a97089210c8bfbb4bbd1071699289ad76"><em>(control_node)</em> <a href="#classfx__oscillator_1a97089210c8bfbb4bbd1071699289ad76"><code>offset</code></a></h4>
<p>Control routing node: The DC offset of the amplifier. Useful if you're using this to control parameters in ranges not centered around 0.0.</p>
<h4 id="control_nodevalueclassfx__oscillator_1a80c56e026c17bea6c0b00b83338e1982"><em>(control_node)</em> <a href="#classfx__oscillator_1a80c56e026c17bea6c0b00b83338e1982"><code>value</code></a></h4>
<p>Control routing node: The current value of the oscillator. Connect this node to external oscillator nodes for effects.</p>
<h4 id="initializerfx_oscillatorclassfx__oscillator_1af7cd903dc9cc687017083aa6abbd24d3osc_typesosc_typefreqamplitude"><em>(initializer)</em> <a href="#classfx__oscillator_1af7cd903dc9cc687017083aa6abbd24d3"><code>fx_oscillator</code></a><code>(OSC_TYPES osc_type,freq,amplitude)</code></h4>
<p>Basic constructor for an oscillator when used as an audio source.</p>
<ul>
<li><p><code>osc_type</code> The osc type (see OSC_TYPES) </p></li>
<li><p><code>freq</code> The frequency in Hz </p></li>
<li><p><code>amplitude</code> The amplitude (linear scale e.g. 0.0 -&gt; 1.0 typically)</p></li>
</ul>
<h4 id="initializerfx_oscillatorclassfx__oscillator_1a39d70bef48bbf44c7bc1f0a28ecc7157osc_typesosc_typefreqamplitudeoffset"><em>(initializer)</em> <a href="#classfx__oscillator_1a39d70bef48bbf44c7bc1f0a28ecc7157"><code>fx_oscillator</code></a><code>(OSC_TYPES osc_type,freq,amplitude,offset)</code></h4>
<p>Basic constructor for an oscillator used as a control source.</p>
<ul>
<li><p><code>osc_type</code> The osc type (see OSC_TYPES) </p></li>
<li><p><code>freq</code> The frequency in Hz </p></li>
<li><p><code>amplitude</code> The amplitude (linear scale e.g. 0.0 -&gt; 1.0 typically) </p></li>
<li><p><code>offset</code> The DC offset (for example, if you wanted an LFO that ranged from 400 - 800, you could set the offset to 600 and the amplitude of the waveform for 200.)</p></li>
</ul>
<h4 id="modifierenableclassfx__oscillator_1af8097f269a5e90da896abd8f7e6ef5e2"><em>(modifier)</em> <a href="#classfx__oscillator_1af8097f269a5e90da896abd8f7e6ef5e2"><code>enable</code></a><code>()</code></h4>
<p>Enable the oscillator (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__oscillator_1a7af21ed9e597c2c00d85dac8d0fc7346"><em>(modifier)</em> <a href="#classfx__oscillator_1a7af21ed9e597c2c00d85dac8d0fc7346"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the oscillator (it will provide just a constant value)</p>
<h4 id="modifierset_frequencyclassfx__oscillator_1a70f61ffee6744da72ecc8ea3cda9e1adfreq"><em>(modifier)</em> <a href="#classfx__oscillator_1a70f61ffee6744da72ecc8ea3cda9e1ad"><code>set_frequency</code></a><code>(freq)</code></h4>
<p>Upates the frequency in Hz of the current oscillator.</p>
<ul>
<li><code>freq</code> The frequency in Hz</li>
</ul>
<h4 id="modifierset_amplitudeclassfx__oscillator_1abd4b26763cbf698b21293ebff30d03a2amplitude"><em>(modifier)</em> <a href="#classfx__oscillator_1abd4b26763cbf698b21293ebff30d03a2"><code>set_amplitude</code></a><code>(amplitude)</code></h4>
<p>Updates the amplitude for the current oscillator.</p>
<ul>
<li><code>amplitude</code> The amplitude (linear)</li>
</ul>
<h4 id="modifierset_offsetclassfx__oscillator_1a2ae871d4b13455c9a1e9a1411527b496offset"><em>(modifier)</em> <a href="#classfx__oscillator_1a2ae871d4b13455c9a1e9a1411527b496"><code>set_offset</code></a><code>(offset)</code></h4>
<p>Sets the offset of the oscillator when it's being used as a controller.</p>
<ul>
<li><code>offset</code> The offset value</li>
</ul>
<h4 id="modifierprint_paramsclassfx__oscillator_1a630f9545124147322faea04790240e61void"><em>(modifier)</em> <a href="#classfx__oscillator_1a630f9545124147322faea04790240e61"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_phase_shifter">class <code>fx_phase_shifter</code></h1>
<p>Effect: Phase shifter for creating rich phase shifts.</p>
<p>Example: <strong>phase<em>shifter</em>1.c</strong></p>
<h2 id="details-13">Details</h2>
<h4 id="audio_nodeinputclassfx__phase__shifter_1a6b3c2e7b30e37e8f39f4ea74edcc1da8"><em>(audio_node)</em> <a href="#classfx__phase__shifter_1a6b3c2e7b30e37e8f39f4ea74edcc1da8"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__phase__shifter_1a1516ae9bc8081a37bd4b587cc8cbdbdf"><em>(audio_node)</em> <a href="#classfx__phase__shifter_1a1516ae9bc8081a37bd4b587cc8cbdbdf"><code>output</code></a></h4>
<p>Audio routing node: primary audio output</p>
<h4 id="control_nodedepthclassfx__phase__shifter_1a09af8400b1ee18ceb91eb0def1d6d58d"><em>(control_node)</em> <a href="#classfx__phase__shifter_1a09af8400b1ee18ceb91eb0def1d6d58d"><code>depth</code></a></h4>
<p>Control routing node: phase shifter depth (should be between 0.0 and 1.0)</p>
<h4 id="control_noderate_hzclassfx__phase__shifter_1aee41f77d8694d6267ae46aff7bafe052"><em>(control_node)</em> <a href="#classfx__phase__shifter_1aee41f77d8694d6267ae46aff7bafe052"><code>rate_hz</code></a></h4>
<p>Control routing node: phase shifter rate (Hz) (i.e. 1.0 = once per second)</p>
<h4 id="control_nodefeedbackclassfx__phase__shifter_1ad024eec3755afff22c3d79899a443370"><em>(control_node)</em> <a href="#classfx__phase__shifter_1ad024eec3755afff22c3d79899a443370"><code>feedback</code></a></h4>
<p>Control routing node: phase shifter feedback (should be between -1.0 and 1.0)</p>
<h4 id="initializerfx_phase_shifterclassfx__phase__shifter_1a3a121772ae94e0f4821bbc67349881d3rate_hzdepthfeedback"><em>(initializer)</em> <a href="#classfx__phase__shifter_1a3a121772ae94e0f4821bbc67349881d3"><code>fx_phase_shifter</code></a><code>(rate_hz,depth,feedback)</code></h4>
<p>Basic constructor/initializer for the phase shifter.</p>
<ul>
<li><p><code>rate_hz</code> The rate hz of the LFO modulating the phase shifter </p></li>
<li><p><code>depth</code> The depth of the phase shifter </p></li>
<li><p><code>feedback</code> The feedback of the phase shifter</p></li>
</ul>
<h4 id="modifierenableclassfx__phase__shifter_1a02b925c2b19530efcda28486ff7d286a"><em>(modifier)</em> <a href="#classfx__phase__shifter_1a02b925c2b19530efcda28486ff7d286a"><code>enable</code></a><code>()</code></h4>
<p>Enable the phase shifter (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__phase__shifter_1a361a5bd72a429333d3e1a0120332c19f"><em>(modifier)</em> <a href="#classfx__phase__shifter_1a361a5bd72a429333d3e1a0120332c19f"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the phase shifter (will just pass clean audio through)</p>
<h4 id="modifierset_depthclassfx__phase__shifter_1a5775686b16e0adf4f44cfc7701a02b68depth"><em>(modifier)</em> <a href="#classfx__phase__shifter_1a5775686b16e0adf4f44cfc7701a02b68"><code>set_depth</code></a><code>(depth)</code></h4>
<p>Sets the depth of the phase shifter.</p>
<ul>
<li><code>depth</code> The depth fom 0.0 -&gt; 1.0. 0.0 is no modulation at all, 1.0 is full modulation.</li>
</ul>
<h4 id="modifierset_rate_hzclassfx__phase__shifter_1acfdf8c4124e0e95cbaa3e5fbf6b23a9frate_hz"><em>(modifier)</em> <a href="#classfx__phase__shifter_1acfdf8c4124e0e95cbaa3e5fbf6b23a9f"><code>set_rate_hz</code></a><code>(rate_hz)</code></h4>
<p>Sets the rate of the phase shifter in Hertz (cycles per second)</p>
<ul>
<li><code>rate_hz</code> The rate hz</li>
</ul>
<h4 id="modifierset_feedbackclassfx__phase__shifter_1a48317de95377711857ba1d660bbc4bd7feedback"><em>(modifier)</em> <a href="#classfx__phase__shifter_1a48317de95377711857ba1d660bbc4bd7"><code>set_feedback</code></a><code>(feedback)</code></h4>
<p>Sets the feedback of the phase shifter.</p>
<ul>
<li><code>feedback</code> Feedback value (between -1.0 and 1.0)</li>
</ul>
<h4 id="modifierprint_paramsclassfx__phase__shifter_1a4bd5e5a813c8b07fba88fb1b689fc25fvoid"><em>(modifier)</em> <a href="#classfx__phase__shifter_1a4bd5e5a813c8b07fba88fb1b689fc25f"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_pitch_shift">class <code>fx_pitch_shift</code></h1>
<p>Effect: Pitch shifter - shifts audio up or down in pitch.</p>
<h2 id="details-14">Details</h2>
<h4 id="audio_nodeinputclassfx__pitch__shift_1aa1388ecdbad1942b8c69e21d4c99ab53"><em>(audio_node)</em> <a href="#classfx__pitch__shift_1aa1388ecdbad1942b8c69e21d4c99ab53"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__pitch__shift_1ae66bfa5587f5e89beba7d94a91f56d75"><em>(audio_node)</em> <a href="#classfx__pitch__shift_1ae66bfa5587f5e89beba7d94a91f56d75"><code>output</code></a></h4>
<p>Audio routing node: primary audio output</p>
<h4 id="control_nodefreq_shiftclassfx__pitch__shift_1a969643a1782ac23c0ac6ee4f008f37b8"><em>(control_node)</em> <a href="#classfx__pitch__shift_1a969643a1782ac23c0ac6ee4f008f37b8"><code>freq_shift</code></a></h4>
<h4 id="initializerfx_pitch_shiftclassfx__pitch__shift_1af4f1d9ebd16d16e642d054b46451edeapitch_shift_freq"><em>(initializer)</em> <a href="#classfx__pitch__shift_1af4f1d9ebd16d16e642d054b46451edea"><code>fx_pitch_shift</code></a><code>(pitch_shift_freq)</code></h4>
<h4 id="modifierenableclassfx__pitch__shift_1a6cd1950a881800230a91e35c42419d6d"><em>(modifier)</em> <a href="#classfx__pitch__shift_1a6cd1950a881800230a91e35c42419d6d"><code>enable</code></a><code>()</code></h4>
<p>Enable the pitch shifter (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__pitch__shift_1a61e2586e46a2699b9117cd4883027cfd"><em>(modifier)</em> <a href="#classfx__pitch__shift_1a61e2586e46a2699b9117cd4883027cfd"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the pitch shifter (will just pass clean audio through)</p>
<h4 id="modifierset_freq_shiftclassfx__pitch__shift_1a63ca200680620c062c66ee065f3a4299freq_shift"><em>(modifier)</em> <a href="#classfx__pitch__shift_1a63ca200680620c062c66ee065f3a4299"><code>set_freq_shift</code></a><code>(freq_shift)</code></h4>
<p>Update the pitch shifter value. A freq_shift of 0.5 will drop down one octave. A value of 2.0 will go up one octave. A value of 1.0 will play at current pitch (no shift).</p>
<ul>
<li><code>freq_shift</code> The frequency shift</li>
</ul>
<h4 id="modifierprint_paramsclassfx__pitch__shift_1aa91b1d28891296a2a4199e8d94c871f3void"><em>(modifier)</em> <a href="#classfx__pitch__shift_1aa91b1d28891296a2a4199e8d94c871f3"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_ring_mod">class<code>fx_ring_mod</code></h1>
<p>Effect: Ring modulator - frequency modulates the audio - crazy sounding.</p>
<p>The following example is a full ring modulator pedal with tone control, wet/dry mix and of course ring modulator.</p>
<pre><code>#include "dm_fx.h"

fx_ring_mod      ring_mod_1(200.0, // Carrier frequency in Hz
                            0.7);  // Depth 
fx_gain          wet_mix(0.5);
fx_gain          dry_mix(0.5);
fx_biquad_filter ring_mod_tone(500.0, FILTER_WIDTH_MEDIUM, BIQUAD_TYPE_LPF);
fx_mixer_2       wet_dry_mxer;


void setup() {

  // Init the effects system
  pedal.init();

  // Route audio through wet channel (ring mod-&gt;tone control)
  pedal.route_audio(pedal.instr_in, ring_mod_1.input);
  pedal.route_audio(ring_mod_1.output, ring_mod_tone.input);
  pedal.route_audio(ring_mod_tone.output, wet_dry_mxer.input_1);

  // Route audio through dry channel
  pedal.route_audio(pedal.instr_in, dry_mix.input);
  pedal.route_audio(dry_mix.output, wet_dry_mxer.input_2);

  // Mix wet and dry to output
  pedal.route_audio(wet_dry_mxer.output, pedal.amp_out);

  // Run it!
  pedal.run();

}

void loop() {

  // Connect Pot 0 to wet dry mix
  if (pedal.pot_0.has_changed()) { 
    wet_mix.set_gain(pedal.pot_0.val);
    dry_mix.set_gain(1.0 - pedal.pot_0.val);
  } 

  // Connect Pot 1 to carrier rate (Hz) from 50.0 to 1000.0Hz
  if (pedal.pot_1.has_changed()) { 
    ring_mod_1.set_freq(950.0 * pedal.pot_1.val+50.0);
  } 

  // Connect Pot 2 to tone
  if (pedal.pot_2.has_changed()) { 
    ring_mod_tone.set_freq((2000 * pedal.pot_2.val) + 500.0);
  } 

  // Service 
  pedal.service();
}


void sw1_pressed() { } 
void sw2_pressed() { }
void sw3_pressed() { }
void sw4_pressed() { }
</code></pre>
<h2 id="details-15">Details</h2>
<h4 id="audio_nodeinputclassfx__ring__mod_1aaca095dddcc3928c199203636a5a0b70"><em>(audio_node)</em> <a href="#classfx__ring__mod_1aaca095dddcc3928c199203636a5a0b70"><code>input</code></a></h4>
<p>Audio routing node [input]: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__ring__mod_1aef3f3aa115f4f9dc1e553c44c9acd0fd"><em>(audio_node)</em> <a href="#classfx__ring__mod_1aef3f3aa115f4f9dc1e553c44c9acd0fd"><code>output</code></a></h4>
<p>Audio routing node [output]: primary audio output</p>
<h4 id="control_nodefreqclassfx__ring__mod_1a852138ed03580c9783182ad97b203cdf"><em>(control_node)</em> <a href="#classfx__ring__mod_1a852138ed03580c9783182ad97b203cdf"><code>freq</code></a></h4>
<p>Control routing node [input]: the carrier frequency of the ring moduator (Hz)</p>
<h4 id="control_nodedepthclassfx__ring__mod_1acccb5350e46d71105a62f7339af23c60"><em>(control_node)</em> <a href="#classfx__ring__mod_1acccb5350e46d71105a62f7339af23c60"><code>depth</code></a></h4>
<p>Control routing node [input]: modulation depth</p>
<h4 id="initializerfx_ring_modclassfx__ring__mod_1ab06ae2bc1226aee0af243fdb94756d93ring_mod_freqring_mod_depth"><em>(initializer)</em> <a href="#classfx__ring__mod_1ab06ae2bc1226aee0af243fdb94756d93"><code>fx_ring_mod</code></a><code>(ring_mod_freq,ring_mod_depth)</code></h4>
<h4 id="modifierenableclassfx__ring__mod_1a10937c8528a0a03bd11bba5ec8589cd0"><em>(modifier)</em> <a href="#classfx__ring__mod_1a10937c8528a0a03bd11bba5ec8589cd0"><code>enable</code></a><code>()</code></h4>
<p>Enable the ring modulator (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__ring__mod_1aa859265613b119a8c1a697ab31e674f5"><em>(modifier)</em> <a href="#classfx__ring__mod_1aa859265613b119a8c1a697ab31e674f5"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the ring modulator (will just pass clean audio through)</p>
<h4 id="modifierset_freqclassfx__ring__mod_1afeddeb6ba118f1fcf3b4387b07ef9e59new_freq"><em>(modifier)</em> <a href="#classfx__ring__mod_1afeddeb6ba118f1fcf3b4387b07ef9e59"><code>set_freq</code></a><code>(new_freq)</code></h4>
<p>Sets the carrier frequency of the ring moduator (Hz)</p>
<ul>
<li><code>new_freq</code> The new frequency</li>
</ul>
<h4 id="modifierset_depthclassfx__ring__mod_1a960d140ad93acf973dd57e3fd5055b5enew_depth"><em>(modifier)</em> <a href="#classfx__ring__mod_1a960d140ad93acf973dd57e3fd5055b5e"><code>set_depth</code></a><code>(new_depth)</code></h4>
<p>Sets the depth of the ring modulator (0.0 -&gt; 1.0)</p>
<ul>
<li><code>new_depth</code> The new depth</li>
</ul>
<h4 id="modifierprint_paramsclassfx__ring__mod_1a5fbb19b69e4fa7ebd16b22e541a664cdvoid"><em>(modifier)</em> <a href="#classfx__ring__mod_1a5fbb19b69e4fa7ebd16b22e541a664cd"><code>print_params</code></a><code>(void)</code></h4>
<p>Prints the parameters for the delay effect.</p>
<h1 id="classfx_shaper">class <code>fx_shaper</code></h1>
<p>Effect: Slicer - chops up audio in the time domain and pipes to different effects.</p>
<h2 id="details-16">Details</h2>
<h4 id="audio_nodeinputclassfx__shaper_1aac7d9824de259c99f4c78860d82e431d"><em>(audio_node)</em> <a href="#classfx__shaper_1aac7d9824de259c99f4c78860d82e431d"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__shaper_1a668b07367e86458eebf4df8bb7834e48"><em>(audio_node)</em> <a href="#classfx__shaper_1a668b07367e86458eebf4df8bb7834e48"><code>output</code></a></h4>
<p>Audio routing node: primary audio output</p>
<h4 id="audio_nodesynth_outputclassfx__shaper_1ab43076dbb5b856bd1feebae14ebf264b"><em>(audio_node)</em> <a href="#classfx__shaper_1ab43076dbb5b856bd1feebae14ebf264b"><code>synth_output</code></a></h4>
<p>Audio routing node: synth only raw output</p>
<h4 id="audio_nodeoct_1_outputclassfx__shaper_1a31d87d2308a09a531e4e0a24615cbd94"><em>(audio_node)</em> <a href="#classfx__shaper_1a31d87d2308a09a531e4e0a24615cbd94"><code>oct_1_output</code></a></h4>
<p>Audio routing node: octave 1 raw output</p>
<h4 id="audio_nodeoct_2_outputclassfx__shaper_1a076ca83c5ff4954d9663ce1a97352626"><em>(audio_node)</em> <a href="#classfx__shaper_1a076ca83c5ff4954d9663ce1a97352626"><code>oct_2_output</code></a></h4>
<p>Audio routing node: octave 2 raw output</p>
<h4 id="control_nodeclean_mixclassfx__shaper_1a11dbafe1599ea165db54e8b59325fec2"><em>(control_node)</em> <a href="#classfx__shaper_1a11dbafe1599ea165db54e8b59325fec2"><code>clean_mix</code></a></h4>
<p>Control routing node: Clean mix (0.0 -&gt; 1.0)</p>
<h4 id="control_nodeshaper_mixclassfx__shaper_1a33987bb824b29074be6b6d2e8658c1f8"><em>(control_node)</em> <a href="#classfx__shaper_1a33987bb824b29074be6b6d2e8658c1f8"><code>shaper_mix</code></a></h4>
<p>Control routing node: Shaper mix (0.0 -&gt; 1.0)</p>
<h4 id="control_nodeoct_1_mixclassfx__shaper_1ad65aa0f9c1040c3f45e0a8807e4e4b67"><em>(control_node)</em> <a href="#classfx__shaper_1ad65aa0f9c1040c3f45e0a8807e4e4b67"><code>oct_1_mix</code></a></h4>
<p>Control routing node: Octave below mix (0.0 -&gt; 1.0)</p>
<h4 id="control_nodeoct_2_mixclassfx__shaper_1a0cc7befb9e2638c9386b0051fcd5e086"><em>(control_node)</em> <a href="#classfx__shaper_1a0cc7befb9e2638c9386b0051fcd5e086"><code>oct_2_mix</code></a></h4>
<p>Control routing node: Two octaves below mix (0.0 -&gt; 1.0)</p>
<h4 id="initializerfx_shaperclassfx__shaper_1a443695f97f603e9782a80ce2ad0058baclean_mixshaper_mixoct_1_mixoct_2_mix"><em>(initializer)</em> <a href="#classfx__shaper_1a443695f97f603e9782a80ce2ad0058ba"><code>fx_shaper</code></a><code>(clean_mix,shaper_mix,oct_1_mix,oct_2_mix)</code></h4>
<p>Constructor for the shaper.</p>
<ul>
<li><p><code>clean_mix</code> The clean mix (0.0 -&gt; 1.0) </p></li>
<li><p><code>shaper_mix</code> The shaper mix (0.0 -&gt; 1.0) </p></li>
<li><p><code>oct_1_mix</code> The octal 1 mix (0.0 -&gt; 1.0) </p></li>
<li><p><code>oct_2_mix</code> The octal 2 mix (0.0 -&gt; 1.0)</p></li>
</ul>
<h4 id="modifierenableclassfx__shaper_1a40a90f65699e4fced2f8cf0219bc24f1"><em>(modifier)</em> <a href="#classfx__shaper_1a40a90f65699e4fced2f8cf0219bc24f1"><code>enable</code></a><code>()</code></h4>
<p>Enable the amplitude modululator (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__shaper_1aabef8fb08b81b0240a4cde94e23b74ce"><em>(modifier)</em> <a href="#classfx__shaper_1aabef8fb08b81b0240a4cde94e23b74ce"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the amplitude modululator (will just pass clean audio through)</p>
<h4 id="modifierset_clean_mixclassfx__shaper_1ab0481a07fb9198b78fd563d059ca61d5clean_mix"><em>(modifier)</em> <a href="#classfx__shaper_1ab0481a07fb9198b78fd563d059ca61d5"><code>set_clean_mix</code></a><code>(clean_mix)</code></h4>
<h4 id="modifierset_shaper_mixclassfx__shaper_1ae63201b51bfaf1e770256fb4940b31efshaper_mix"><em>(modifier)</em> <a href="#classfx__shaper_1ae63201b51bfaf1e770256fb4940b31ef"><code>set_shaper_mix</code></a><code>(shaper_mix)</code></h4>
<h4 id="modifierset_oct_1_mixclassfx__shaper_1a3a949b53cd2394511dbe58c08d28ba93oct_1_mix"><em>(modifier)</em> <a href="#classfx__shaper_1a3a949b53cd2394511dbe58c08d28ba93"><code>set_oct_1_mix</code></a><code>(oct_1_mix)</code></h4>
<h4 id="modifierset_oct_2_mixclassfx__shaper_1a3c1dd193f155c6095195b960a1b4a3ceoct_2_mix"><em>(modifier)</em> <a href="#classfx__shaper_1a3c1dd193f155c6095195b960a1b4a3ce"><code>set_oct_2_mix</code></a><code>(oct_2_mix)</code></h4>
<h4 id="modifierprint_paramsclassfx__shaper_1a20e8109535f876b202ae0843c6a96e1evoid"><em>(modifier)</em> <a href="#classfx__shaper_1a20e8109535f876b202ae0843c6a96e1e"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_slicer">class <code>fx_slicer</code></h1>
<p>Effect: Slicer - chops up audio in the time domain and pipes to different effects.</p>
<p>Copyright (c) 2019 Run Jump Labs LLC. All rights reserved. Example: </p>
<pre><code>#include "dm_fx.h"

/*

 The slicer switches between output channels at a predefined rate.  It is 
 great for creating interesting rhymic effects.  This effect sends each channel
 of the slicer through band-pass filters that are tuned to different center
 frequencies.  The outputs of the filters are then mixed together using a 
 simple 4 channel mixer.

               +------------+   +-------------+   +---------+
               |            +--&gt;+ BPF @ 200Hz +--&gt;+         |
               |            |   +-------------+   |         |
               |            |   +-------------+   |         |
               |            +--&gt;+ BPF @ 1200Hz+--&gt;+         |
Instr In +----&gt;+ Slicer x 4 |   +-------------+   | Mixer4  +----&gt; Amp Out
               |            |   +-------------+   |         |
               |            +--&gt;+ BPF @ 500Hz +--&gt;+         |
               |            |   +-------------+   |         |
               |            |   +-------------+   |         |
               |            +--&gt;+ BPF @ 800Hz +--&gt;+         |
               +------------+   +-------------+   +---------+

 */

// Set up a slicer for four channels
fx_slicer   slice4(1000.0, 4);

// Instances of the four bandpass (BPF) filters at different frequencies
fx_biquad_filter  filt1(200, FILTER_WIDTH_NARROW, BIQUAD_TYPE_BPF);
fx_biquad_filter  filt2(1000, FILTER_WIDTH_NARROW, BIQUAD_TYPE_BPF);
fx_biquad_filter  filt3(500, FILTER_WIDTH_NARROW, BIQUAD_TYPE_BPF);
fx_biquad_filter  filt4(800, FILTER_WIDTH_NARROW, BIQUAD_TYPE_BPF);
fx_mixer_4 mix4;

bool go = false;
bool running = false;

void setup() {

  pedal.init();

  pedal.route_audio(pedal.instr_in, slice4.input);

  pedal.route_audio(slice4.output_1, filt1.input);
  pedal.route_audio(slice4.output_2, filt2.input);
  pedal.route_audio(slice4.output_3, filt3.input);
  pedal.route_audio(slice4.output_4, filt4.input);

  pedal.route_audio(filt1.output, mix4.input_1);
  pedal.route_audio(filt2.output, mix4.input_2);
  pedal.route_audio(filt3.output, mix4.input_3);
  pedal.route_audio(filt4.output, mix4.input_4);

  pedal.route_audio(mix4.output, pedal.amp_out);

  // Optional code to print out the routing details to console
  if (true) {
    pedal.print_instance_stack();
    pedal.print_routing_table();
    pedal.print_param_tables();
  }

  // Run this effect
  pedal.run(); 

}

void loop() {

  static int now = millis();

  // Run pedal service to take care of stuff
  pedal.service();

  // Set period of slicer from 100ms through 3 seconds
  if (pedal.pot_0.has_changed()) {
    slice4.set_period_ms(100.0 + 3000.0 * (1.0 - pedal.pot_0.val));
  }

  if (pedal.pot_1.has_changed()) {
  }

  if (pedal.pot_2.has_changed()) {
  }

}
</code></pre>
<h2 id="details-17">Details</h2>
<h4 id="audio_nodeinputclassfx__slicer_1aea4aac4005bfc584929e4db2df9c9556"><em>(audio_node)</em> <a href="#classfx__slicer_1aea4aac4005bfc584929e4db2df9c9556"><code>input</code></a></h4>
<p>Audio routing node: primary audio input</p>
<h4 id="audio_nodeoutput_1classfx__slicer_1ae4c1b8d328e228319cd19bff6332930c"><em>(audio_node)</em> <a href="#classfx__slicer_1ae4c1b8d328e228319cd19bff6332930c"><code>output_1</code></a></h4>
<p>Audio routing node: audio output for slicer channel 0</p>
<h4 id="audio_nodeoutput_2classfx__slicer_1aa8520e74bfd31d81ac4cdbcd916160c9"><em>(audio_node)</em> <a href="#classfx__slicer_1aa8520e74bfd31d81ac4cdbcd916160c9"><code>output_2</code></a></h4>
<p>Audio routing node: audio output for slicer channel 1</p>
<h4 id="audio_nodeoutput_3classfx__slicer_1a83ee17093e2ddeb58dd4dbf7ec669f9d"><em>(audio_node)</em> <a href="#classfx__slicer_1a83ee17093e2ddeb58dd4dbf7ec669f9d"><code>output_3</code></a></h4>
<p>Audio routing node: audio output for slicer channel 2</p>
<h4 id="audio_nodeoutput_4classfx__slicer_1ab1370ec62022c6e3c51a5aef4dfe50a1"><em>(audio_node)</em> <a href="#classfx__slicer_1ab1370ec62022c6e3c51a5aef4dfe50a1"><code>output_4</code></a></h4>
<p>Audio routing node: audio output for slicer channel 3</p>
<h4 id="audio_nodeoutput_5classfx__slicer_1a655bf347bcdf202b866aa3e0f68e9fb6"><em>(audio_node)</em> <a href="#classfx__slicer_1a655bf347bcdf202b866aa3e0f68e9fb6"><code>output_5</code></a></h4>
<p>Audio routing node: audio output for slicer channel 4</p>
<h4 id="audio_nodeoutput_6classfx__slicer_1a39a01c6579266750f91aeac02f8f7acc"><em>(audio_node)</em> <a href="#classfx__slicer_1a39a01c6579266750f91aeac02f8f7acc"><code>output_6</code></a></h4>
<p>Audio routing node: audio output for slicer channel 5</p>
<h4 id="audio_nodeoutput_7classfx__slicer_1a45c086598cfae96f1b205e0cde1cb68f"><em>(audio_node)</em> <a href="#classfx__slicer_1a45c086598cfae96f1b205e0cde1cb68f"><code>output_7</code></a></h4>
<p>Audio routing node: audio output for slicer channel 6</p>
<h4 id="audio_nodeoutput_8classfx__slicer_1a25eb7888a44e6766c518b916bc30f8a8"><em>(audio_node)</em> <a href="#classfx__slicer_1a25eb7888a44e6766c518b916bc30f8a8"><code>output_8</code></a></h4>
<p>Audio routing node: audio output for slicer channel 7</p>
<h4 id="control_nodeperiodclassfx__slicer_1ac2267c3fca1786200fac8e1327cd13a7"><em>(control_node)</em> <a href="#classfx__slicer_1ac2267c3fca1786200fac8e1327cd13a7"><code>period</code></a></h4>
<p>Control routing node: period in in milliseconds</p>
<h4 id="initializerfx_slicerclassfx__slicer_1aa58475e7abee046901e228b6d6befdfeperiod_msint32_tchannels"><em>(initializer)</em> <a href="#classfx__slicer_1aa58475e7abee046901e228b6d6befdfe"><code>fx_slicer</code></a><code>(period_ms,int32_t channels)</code></h4>
<p>Basic constructor/initializer for the slicer.</p>
<ul>
<li><p><code>period_ms</code> The period in milliseconds </p></li>
<li><p><code>channels</code> The number of channels to slice between during the period</p></li>
</ul>
<h4 id="modifierenableclassfx__slicer_1a0005ae49c5345637e329d5bdb9b59994"><em>(modifier)</em> <a href="#classfx__slicer_1a0005ae49c5345637e329d5bdb9b59994"><code>enable</code></a><code>()</code></h4>
<p>Enable the slicer (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__slicer_1a4c84f21952fb3830fb1b9e9cff115c6b"><em>(modifier)</em> <a href="#classfx__slicer_1a4c84f21952fb3830fb1b9e9cff115c6b"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the slicer (will just pass clean audio through)</p>
<h4 id="modifierset_period_msclassfx__slicer_1a67e16609c920a9ab8ca5cc08e5776d21period"><em>(modifier)</em> <a href="#classfx__slicer_1a67e16609c920a9ab8ca5cc08e5776d21"><code>set_period_ms</code></a><code>(period)</code></h4>
<p>Upates the period in milliseconds for the slicer.</p>
<ul>
<li><code>period</code> The period in milliseconds (thousands of a second)</li>
</ul>
<h4 id="modifierprint_paramsclassfx__slicer_1ab7bcfb6dbe69577d7a060ba2cfdf83a7void"><em>(modifier)</em> <a href="#classfx__slicer_1ab7bcfb6dbe69577d7a060ba2cfdf83a7"><code>print_params</code></a><code>(void)</code></h4>
<p>Print the parameters for this effect.</p>
<h1 id="classfx_variable_delay">class <code>fx_variable_delay</code></h1>
<p>Effect: Variable delay - foundational block of flangers and choruses.</p>
<p>The variable delay effect is the basis for a number of time-varying delay effects like chorus, flanger, phaser, vibrato, Leslie simulator, etc.</p>
<p>Here's a nice tutorial on how variable delays work in these various building blocks: <a href="https://www.dsprelated.com/freebooks/pasp/Time_Varying_Delay_Effects.html">https://www.dsprelated.com/freebooks/pasp/Time<em>Varying</em>Delay_Effects.html</a></p>
<p>Example: </p>
<pre><code>#include "dm_fx"

fx_variable_delay   flanger1(0.5,       // Rate is 0.5Hz 
                             0.5,       // Depth set to 0.5
                             -0.7,      // Feedback set to -0.7
                             OSC_SINE); // Use a sine wave to modlulate                                 

void setup() {

  // Init the effects system
  pedal.init();

  // Route audio
  pedal.route_audio(pedal.instr_in, flanger1.input);
  pedal.route_audio(flanger1.output, pedal.amp_out);

  // Run it!
  pedal.run();

}

void loop() {

  // Connect Pot 0 to depth parameter (0 -&gt; 1)
  if (pedal.pot_0.has_changed()) { 
    flanger1.set_depth(pedal.pot_0.val);
  } 

  // Connect Pot 1 to rate (Hz) from 0.0 to 4.0Hz
  if (pedal.pot_1.has_changed()) { 
    flanger1.set_rate(pedal.pot_1.val * 4.0);
  } 

  // Connect Pot 2 to feedback parameter (-1 -&gt; 1)
  if (pedal.pot_2.has_changed()) { 
    flanger1.set_feedback(pedal.pot_0.val*2.0 - 1.0);
  } 


  // Service 
  pedal.service();
}
</code></pre>
<h2 id="details-18">Details</h2>
<h4 id="audio_nodeinputclassfx__variable__delay_1adfe9817234303c0a7a3447391e882af6"><em>(audio_node)</em> <a href="#classfx__variable__delay_1adfe9817234303c0a7a3447391e882af6"><code>input</code></a></h4>
<p>Audio routing node [input]: primary audio input</p>
<h4 id="audio_nodeoutputclassfx__variable__delay_1a34e31eab5e3d155aafa553a5fa66c369"><em>(audio_node)</em> <a href="#classfx__variable__delay_1a34e31eab5e3d155aafa553a5fa66c369"><code>output</code></a></h4>
<p>Audio routing node [output]: primary audio output</p>
<h4 id="audio_nodeext_mod_inclassfx__variable__delay_1aeb3230729a9af6c6112e90350fe869e6"><em>(audio_node)</em> <a href="#classfx__variable__delay_1aeb3230729a9af6c6112e90350fe869e6"><code>ext_mod_in</code></a></h4>
<p>Audio routine node [input]: use another signal as the modulator source such as an <a href="#classfx__oscillator">fx_oscillator</a>. The oscillator can be run though the clipper for example to create new types of waveforms.</p>
<h4 id="audio_nodemodulated_outclassfx__variable__delay_1ad4379f17a31b9b270b3a1c8f3beb3d81"><em>(audio_node)</em> <a href="#classfx__variable__delay_1ad4379f17a31b9b270b3a1c8f3beb3d81"><code>modulated_out</code></a></h4>
<p>Audio routing node [output]: just the pitch modulated signal without mixing in the original signal</p>
<h4 id="control_nodedepthclassfx__variable__delay_1a6d200c4f53d486513be7c18fc7d948d6"><em>(control_node)</em> <a href="#classfx__variable__delay_1a6d200c4f53d486513be7c18fc7d948d6"><code>depth</code></a></h4>
<p>Control routing node [input]: modulation depth</p>
<h4 id="control_noderate_hzclassfx__variable__delay_1a4b8417112ba1196b03f0d29b8998ce9f"><em>(control_node)</em> <a href="#classfx__variable__delay_1a4b8417112ba1196b03f0d29b8998ce9f"><code>rate_hz</code></a></h4>
<p>Control routing node [input]: modulation rate in Hz</p>
<h4 id="control_nodefeedbackclassfx__variable__delay_1a8d402d84f9415c711d72d72c4a92c77b"><em>(control_node)</em> <a href="#classfx__variable__delay_1a8d402d84f9415c711d72d72c4a92c77b"><code>feedback</code></a></h4>
<h4 id="initializerfx_variable_delayclassfx__variable__delay_1a9fb9b742eefcf08eb2e026824a31384avar_del_rate_hzvar_del_depthvar_del_feedbackosc_typesvar_del_mod_type"><em>(initializer)</em> <a href="#classfx__variable__delay_1a9fb9b742eefcf08eb2e026824a31384a"><code>fx_variable_delay</code></a><code>(var_del_rate_hz,var_del_depth,var_del_feedback,OSC_TYPES var_del_mod_type)</code></h4>
<p>Basic constructor/initializer for variable delay.</p>
<ul>
<li><p><code>var_del_rate_hz</code> The modulation rate in Hz </p></li>
<li><p><code>var_del_depth</code> The modulation depth (0.0 -&gt; 1.0) </p></li>
<li><p><code>var_del_feedback</code> The feedback from output to input (-1.0 -&gt; 1.0) </p></li>
<li><p><code>var_del_mod_type</code> The shape of the waveform used to modulate (e.g. OSC<em>SINE, OSC</em>TRI, etc.)</p></li>
</ul>
<h4 id="initializerfx_variable_delayclassfx__variable__delay_1aa8345309d8a9ae9ced2eb53b3b12c4a1var_del_rate_hzvar_del_depthvar_del_feedbackvar_del_buf_size_msvar_del_mix_cleanosc_typesvar_del_mod_typeboolvar_del_ext_mod"><em>(initializer)</em> <a href="#classfx__variable__delay_1aa8345309d8a9ae9ced2eb53b3b12c4a1"><code>fx_variable_delay</code></a><code>(var_del_rate_hz,var_del_depth,var_del_feedback,var_del_buf_size_ms,var_del_mix_clean,OSC_TYPES var_del_mod_type,bool var_del_ext_mod)</code></h4>
<p>Basic constructor/initializer for variable delay.</p>
<ul>
<li><p><code>var_del_rate_hz</code> The modulation rate in Hz </p></li>
<li><p><code>var_del_depth</code> The modulation depth (0.0 -&gt; 1.0) </p></li>
<li><p><code>var_del_feedback</code> The feedback from output to input (-1.0 -&gt;1.0) </p></li>
<li><p><code>var_del_buf_size_ms</code> The size of the audio in milliseconds (start wtih a value around 30) </p></li>
<li><p><code>var_del_mix_clean</code> The clean mix. If this is set to 0.0, then you'll just get the pitch changing aspect of the wave that can used for tape delay simulators, etc. </p></li>
<li><p><code>var_del_mod_type</code> The shape of the waveform used to modulate (e.g. OSC<em>SINE, OSC</em>TRI, etc.) </p></li>
<li><p><code>var_del_ext_mod</code> whether to use an external modulation source (set to true or false)</p></li>
</ul>
<h4 id="modifierenableclassfx__variable__delay_1ad40a88ff09f879bcb21a6ee55d8771e8"><em>(modifier)</em> <a href="#classfx__variable__delay_1ad40a88ff09f879bcb21a6ee55d8771e8"><code>enable</code></a><code>()</code></h4>
<p>Enable the <strong>this_effect</strong> (it is enabled by default)</p>
<h4 id="modifierbypassclassfx__variable__delay_1a2b5aa0e4bdba02a38397a8d58fe9882a"><em>(modifier)</em> <a href="#classfx__variable__delay_1a2b5aa0e4bdba02a38397a8d58fe9882a"><code>bypass</code></a><code>()</code></h4>
<p>Bypass the <strong>this_effect</strong> (will just pass clean audio through)</p>
<h4 id="modifierset_depthclassfx__variable__delay_1a3ac8a8f3aae24224158d17e8d8582815depth"><em>(modifier)</em> <a href="#classfx__variable__delay_1a3ac8a8f3aae24224158d17e8d8582815"><code>set_depth</code></a><code>(depth)</code></h4>
<p>Updates the depth of the variable delay.</p>
<ul>
<li><code>depth</code> The new depth value</li>
</ul>
<h4 id="modifierset_rate_hzclassfx__variable__delay_1a92efbe931e213229ee52c76ad9ff806brate_hz"><em>(modifier)</em> <a href="#classfx__variable__delay_1a92efbe931e213229ee52c76ad9ff806b"><code>set_rate_hz</code></a><code>(rate_hz)</code></h4>
<p>Updates the rate (Hz) of the variable delay.</p>
<ul>
<li><code>rate_hz</code> The new rate hz</li>
</ul>
<h4 id="modifierset_feedbackclassfx__variable__delay_1ad3b9ef61ed0db2e93bd15c01d6f98536feedback"><em>(modifier)</em> <a href="#classfx__variable__delay_1ad3b9ef61ed0db2e93bd15c01d6f98536"><code>set_feedback</code></a><code>(feedback)</code></h4>
<p>Updates the feedback parameter of the variable delay.</p>
<ul>
<li><code>feedback</code> The new feedback value (-1.0-&gt;1.0)</li>
</ul>
<h4 id="modifierset_mix_cleanclassfx__variable__delay_1afa615e6ee413dd5c4066e798f55df959mix_clean"><em>(modifier)</em> <a href="#classfx__variable__delay_1afa615e6ee413dd5c4066e798f55df959"><code>set_mix_clean</code></a><code>(mix_clean)</code></h4>
<p>Updates the clean mix of the variable delay.</p>
<ul>
<li><code>mix_clean</code> The new clean mix value</li>
</ul>
<h4 id="modifierprint_paramsclassfx__variable__delay_1a69e0bdf848f4f2ab1de57a7f23fb5088void"><em>(modifier)</em> <a href="#classfx__variable__delay_1a69e0bdf848f4f2ab1de57a7f23fb5088"><code>print_params</code></a><code>(void)</code></h4>
<p>Prints the parameters for this effect.</p>
<p>Generated by <a href="https://sourcey.com/moxygen">Moxygen</a></p>
			</article>
		</div>
	</div>
</div>